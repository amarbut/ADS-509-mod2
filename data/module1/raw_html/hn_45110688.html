<html lang="en" op="item"><head><meta name="referrer" content="origin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" type="text/css" href="news.css?rdkg5pOPauT7LmsdOtnz"><link rel="icon" href="y18.svg"><link rel="canonical" href="https://news.ycombinator.com/item?id=45110688"><title>%CPU utilization is a lie | Hacker News</title></head><body><center><table id="hnmain" border="0" cellpadding="0" cellspacing="0" width="85%" bgcolor="#f6f6ef"><tr><td bgcolor="#ff6600"><table border="0" cellpadding="0" cellspacing="0" width="100%" style="padding:2px"><tr><td style="width:18px;padding-right:4px"><a href="https://news.ycombinator.com"><img src="y18.svg" width="18" height="18" style="border:1px white solid; display:block"></a></td><td style="line-height:12pt; height:10px;"><span class="pagetop"><b class="hnname"><a href="news">Hacker News</a></b><a href="newest">new</a> | <a href="front">past</a> | <a href="newcomments">comments</a> | <a href="ask">ask</a> | <a href="show">show</a> | <a href="jobs">jobs</a> | <a href="submit" rel="nofollow">submit</a></span></td><td style="text-align:right;padding-right:4px;"><span class="pagetop"><a href="login?goto=item%3Fid%3D45110688">login</a></span></td></tr></table></td></tr><tr style='height:10px'/><tr id="bigbox"><td><table class="fatitem" border="0"><tr class="athing submission" id="45110688"><td align="right" valign="top" class="title"><span class="rank"></span></td><td valign="top" class="votelinks"><center><a id='up_45110688' href='vote?id=45110688&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://www.brendanlong.com/cpu-utilization-is-a-lie.html">%CPU utilization is a lie</a><span class="sitebit comhead"> (<a href="from?site=brendanlong.com"><span class="sitestr">brendanlong.com</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline"><span class="score" id="score_45110688">403 points</span> by <a href="user?id=BrendanLong" class="hnuser">BrendanLong</a> <span class="age" title="2025-09-03T00:01:02 1756857662"><a href="item?id=45110688">18 hours ago</a></span> <span id="unv_45110688"></span> | <a href="hide?id=45110688&amp;goto=item%3Fid%3D45110688">hide</a> | <a href="https://hn.algolia.com/?query=%25CPU%20utilization%20is%20a%20lie&type=story&dateRange=all&sort=byDate&storyText=false&prefix&page=0" class="hnpast">past</a> | <a href="fave?id=45110688&amp;auth=5a57ae37179c2e34fb2ee41ac90b8a918caff98b">favorite</a> | <a href="item?id=45110688">140&nbsp;comments</a></span></td></tr><tr><td colspan="2"></td><td><div class="toptext"></div></td></tr><tr style='height:6px'/><tr><td colspan="2"></td><td><form action="comment" method="post"><input type="hidden" name="parent" value="45110688"><input type="hidden" name="goto" value="item?id=45110688"><input type="hidden" name="hmac" value="1defb781ad85e41fd9dcf7b347a6672a12a51dba"><textarea name="text" rows="8" cols="80" wrap="virtual"></textarea><br><br>
<input type="submit" value="add comment"></form></td></tr></table><br>
<table border="0" class="comment-tree"><tr class="athing comtr" id="45111036"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45111036' href='vote?id=45111036&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=ot" class="hnuser">ot</a> <span class="age" title="2025-09-03T00:49:21 1756860561"><a href="item?id=45111036">17 hours ago</a></span> <span id="unv_45111036"></span><span class="navs"> | <a href="#45112377" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111036" n="21" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Utilization is not a lie, it is a measurement of a well-defined quantity, but people make assumptions to extrapolate capacity models from it, and that is where reality diverges from expectations.<p>Hyperthreading (SMT) and Turbo (clock scaling) are only a part of the variables causing non-linearity, there are a number of other resources that are shared across cores and &quot;run out&quot; as load increases, like memory bandwidth, interconnect capacity, processor caches. Some bottlenecks might come even from the software, like spinlocks, which have non-linear impact on utilization.<p>Furthermore, most CPU utilization metrics average over very long windows, from several seconds to a minute, but what really matters for the performance of a latency-sensitive server happens in the time-scale of tens to hundreds of milliseconds, and a multi-second average will not distinguish a bursty behavior from a smooth one. The latter has likely much more capacity to scale up.<p>Unfortunately, the suggested approach is not that accurate either, because it hinges on two inherently unstable concepts<p>&gt; Benchmark how much work your server can do before having errors or unacceptable latency.<p>The measurement of this is extremely noisy, as you want to detect the point where the server starts becoming unstable. Even if you look at a very simple queueing theory model, the derivatives close to saturation explode, so any nondeterministic noise is extremely amplified.<p>&gt; Report how much work your server is currently doing.<p>There is rarely a stable definition of &quot;work&quot;. Is it RPS? Request cost can vary even throughout the day. Is it instructions? Same, the typical IPC can vary.<p>Ultimately, the confidence intervals you get from the load testing approach might be as large as what you can get from building an empirical model from utilization measurement, as long as you measure your utilization correctly.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111036&amp;goto=item%3Fid%3D45110688%2345111036" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111906"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111906' href='vote?id=45111906&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=eklitzke" class="hnuser">eklitzke</a> <span class="age" title="2025-09-03T03:12:44 1756869164"><a href="item?id=45111906">15 hours ago</a></span> <span id="unv_45111906"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">parent</a> | <a href="#45115059" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111906" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">I agree. If you actually know what you&#x27;re doing you can use perf and&#x2F;or ftrace to get highly detailed processor metrics over short periods of time, and you can see the effects of things like CPU stalls from cache misses, CPU stalls from memory accesses, scheduler effects, and many other things. But most of these metrics are not very actionable anyway (the vast majority of people are not going to know what to do with their IPC or cache hit or branch hit numbers).<p>What most people care about is some combination of latency and utilization. As a very rough rule of thumb, for many workloads you can get up to about 80% CPU utilization before you start seeing serious impacts on workload latency. Beyond that you can increase utilization but you start seeing your workload latency suffer from all of the effects you mentioned.<p>To know how much latency is impacted by utilization you need to measure your specific workload. Also, how much you care about latency depends on what you&#x27;re doing. In many cases people care much more about throughput than latency, so if that&#x27;s the top metric then optimize for that. If you care about application latency as well as throughput then you need to measure both of those and decide what tradeoffs are acceptable.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111906&amp;goto=item%3Fid%3D45110688%2345111906" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45115059"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45115059' href='vote?id=45115059&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=tracker1" class="hnuser">tracker1</a> <span class="age" title="2025-09-03T12:45:05 1756903505"><a href="item?id=45115059">5 hours ago</a></span> <span id="unv_45115059"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">parent</a> | <a href="#45111906" class="clicky" aria-hidden="true">prev</a> | <a href="#45112375" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45115059" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">&gt; There is rarely a stable definition of &quot;work&quot;. Is it RPS? Request cost can vary even throughout the day. Is it instructions? Same, the typical IPC can vary.<p>I think this is probably one of the most important points...  similarly, is this public facing work dealing with any kind of user request, or is it simply crunching numbers&#x2F;data to build an AI model from a stable backlog&#x2F;queue?<p>My take has always been with modern multi-core, hyper-threaded CPUs that are burstable is to consider ~60% a &quot;loaded&quot; server.  That should have work split if it&#x27;s that way for any significant portion of a day.  Mostly dealing with user-facing services.  So bursts and higher traffic portions of the day are dramatically different from lower utilization portions of the day.<p>A decade ago, this lead to a lot of work for cloud provisioning on demand for the heavier load times.  Today it&#x27;s a bit more complicated when you have servers with 100+ cores as an option for under $30k (guestimate based on $10k CPU price).  Today, I&#x27;d lean to over-provisioning dedicated server hardware and supplement with cloud services (and&#x2F;or self-cloud-like on K8s) as pragmatically as reasonable... depending on the services of course.  I&#x27;m not currently in a position where I have this level of input though.<p>Just looking at how, as an example, StackOverflow scaled in the early days is even more possible&#x2F;prudent today to a much larger extent...  You can go a very long way with a half&#x2F;full rack and a 10gb uplink in a colo data center or two.<p>In any case, for me... &gt;= 65% CPU load for &gt;= 30m&#x2F;day means it&#x27;s at 100% effective utilization, and needs expansion relatively soon.  Just my own take.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45115059&amp;goto=item%3Fid%3D45110688%2345115059" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45116759"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45116759' href='vote?id=45116759&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=everforward" class="hnuser">everforward</a> <span class="age" title="2025-09-03T15:12:34 1756912354"><a href="item?id=45116759">3 hours ago</a></span> <span id="unv_45116759"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">root</a> | <a href="#45115059" class="clicky" aria-hidden="true">parent</a> | <a href="#45112375" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45116759" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">&gt; In any case, for me... &gt;= 65% CPU load for &gt;= 30m&#x2F;day means it&#x27;s at 100% effective utilization, and needs expansion relatively soon.<p>I think this depends on workload still because IO heavy apps hyperthread well and can push up to 100%.  I think most of the apps I&#x27;ve worked on end up being IO bound because &quot;waiting on SQL results&quot; or the more generic &quot;waiting on downstream results&quot; is 90% of their runtime.  They might spend more time reading those responses off the wire than they do actually processing anything.<p>There are definitely things that isn&#x27;t true of though, and your metrics read about right to me.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45116759&amp;goto=item%3Fid%3D45110688%2345116759" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112375"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45112375' href='vote?id=45112375&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=jimmySixDOF" class="hnuser">jimmySixDOF</a> <span class="age" title="2025-09-03T04:57:09 1756875429"><a href="item?id=45112375">13 hours ago</a></span> <span id="unv_45112375"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">parent</a> | <a href="#45115059" class="clicky" aria-hidden="true">prev</a> | <a href="#45115731" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112375" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">IEEE Hot Interconnects just wrapped up and they discussed latency performance tuning for Ultra Ethernet where it looks smooth on 2- or 5- sec view but at 100ms you see the obvious frame burst effects.  If you don&#x27;t match your profiling to the workload a false negative compounds your original problem by thinking you tested this so better look elsewhere.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112375&amp;goto=item%3Fid%3D45110688%2345112375" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45115731"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45115731' href='vote?id=45115731&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=SAI_Peregrinus" class="hnuser">SAI_Peregrinus</a> <span class="age" title="2025-09-03T13:45:26 1756907126"><a href="item?id=45115731">4 hours ago</a></span> <span id="unv_45115731"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">parent</a> | <a href="#45112375" class="clicky" aria-hidden="true">prev</a> | <a href="#45111848" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45115731" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">That&#x27;s all true, and the % part is still a lie. As you note, CPU utilization isn&#x27;t linear, and percentages are linear measures. CPU utilization isn&#x27;t a lie, % CPU utilization is.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45115731&amp;goto=item%3Fid%3D45110688%2345115731" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45116090"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45116090' href='vote?id=45116090&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=ot" class="hnuser">ot</a> <span class="age" title="2025-09-03T14:16:51 1756909011"><a href="item?id=45116090">4 hours ago</a></span> <span id="unv_45116090"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">root</a> | <a href="#45115731" class="clicky" aria-hidden="true">parent</a> | <a href="#45111848" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45116090" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">It is a linear percentage of the amount of time the CPU is not idle. It is not linear in the amount of useful work, but that&#x27;s not what &quot;utilization&quot; means.<p>The lie is the assumption that CPU time is linear in useful work, but that has nothing to do with the definition of utilization, it&#x27;s just something that people sometimes naively believe.<p>&gt; CPU utilization isn&#x27;t a lie, % CPU utilization is<p>What do you mean by this? Utilization is, by definition, a ratio. % just determines that the scale is in [0, 100].</div><div class="reply"><p><font size="1"><u><a href="reply?id=45116090&amp;goto=item%3Fid%3D45110688%2345116090" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45118610"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45118610' href='vote?id=45118610&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=SAI_Peregrinus" class="hnuser">SAI_Peregrinus</a> <span class="age" title="2025-09-03T17:50:37 1756921837"><a href="item?id=45118610">52 minutes ago</a></span> <span id="unv_45118610"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">root</a> | <a href="#45116090" class="clicky" aria-hidden="true">parent</a> | <a href="#45111848" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45118610" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Utilization can never reach 100%, since not all of the components of the CPU (or even one core) can actually be in use at once. Quite a few are shared between operations and thus mutually exclusive.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45118610&amp;goto=item%3Fid%3D45110688%2345118610" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111848"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111848' href='vote?id=45111848&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=SirMaster" class="hnuser">SirMaster</a> <span class="age" title="2025-09-03T03:00:22 1756868422"><a href="item?id=45111848">15 hours ago</a></span> <span id="unv_45111848"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">parent</a> | <a href="#45115731" class="clicky" aria-hidden="true">prev</a> | <a href="#45112377" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111848" n="13" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">What about 2 workloads that both register 100% CPU usage, but one workload draws significantly more power and heats the CPU up way more? Seems like that workload is utilizing more of the CPU, more of the transistors or something.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111848&amp;goto=item%3Fid%3D45110688%2345111848" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111889"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45111889' href='vote?id=45111889&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=inetknght" class="hnuser">inetknght</a> <span class="age" title="2025-09-03T03:09:11 1756868951"><a href="item?id=45111889">15 hours ago</a></span> <span id="unv_45111889"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">root</a> | <a href="#45111848" class="clicky" aria-hidden="true">parent</a> | <a href="#45114917" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111889" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Indeed, and there&#x27;s a thing called &quot;race to sleep&quot;. That is, you want to light up as much of the core as possible as fast as possible so you can get the CPU back to idle as soon as possible to save on battery power, because having the CPU active for more time (but not using as many circuits as it &quot;could&quot;) draws a lot more power.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111889&amp;goto=item%3Fid%3D45110688%2345111889" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112056"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45112056' href='vote?id=45112056&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=MBCook" class="hnuser">MBCook</a> <span class="age" title="2025-09-03T03:42:03 1756870923"><a href="item?id=45112056">15 hours ago</a></span> <span id="unv_45112056"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">root</a> | <a href="#45111889" class="clicky" aria-hidden="true">parent</a> | <a href="#45114917" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112056" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">At the same time, it takes a certain amount of time for a CPU to switch power levels, and I remember it being surprisingly slow on some (older?) processors.<p>So in Linux (and I assume elsewhere) there were attempts to figure out if the cost in time&#x2F;power to move up to a higher power state would be worth the faster processing, or if staying lower power but slower would end up using less power because it was a short task.<p>I think the last chips I remember seeing numbers for were some of the older Apple M-series chips, and they were lightning fast to switch power levels. That would certainly make it easier to figure out if it was worth going up to a higher power state, if I’m remembering correctly.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112056&amp;goto=item%3Fid%3D45110688%2345112056" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113960"><td><table border="0"><tr><td class="ind" indent="4"><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks"><center><a id='up_45113960' href='vote?id=45113960&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=magicalhippo" class="hnuser">magicalhippo</a> <span class="age" title="2025-09-03T09:52:24 1756893144"><a href="item?id=45113960">8 hours ago</a></span> <span id="unv_45113960"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">root</a> | <a href="#45112056" class="clicky" aria-hidden="true">parent</a> | <a href="#45114917" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113960" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">I deliberately put my govenor to the conservative one, as I hated fans spinning up for a second and then down again repeatedly. Much rather sacrifice a bit of battery and speed for quiet.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113960&amp;goto=item%3Fid%3D45110688%2345113960" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45115820"><td><table border="0"><tr><td class="ind" indent="5"><img src="s.gif" height="1" width="200"></td><td valign="top" class="votelinks"><center><a id='up_45115820' href='vote?id=45115820&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=MBCook" class="hnuser">MBCook</a> <span class="age" title="2025-09-03T13:53:19 1756907599"><a href="item?id=45115820">4 hours ago</a></span> <span id="unv_45115820"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">root</a> | <a href="#45113960" class="clicky" aria-hidden="true">parent</a> | <a href="#45114917" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45115820" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Smart. That would drive me nuts too.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45115820&amp;goto=item%3Fid%3D45110688%2345115820" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45114917"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45114917' href='vote?id=45114917&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=saagarjha" class="hnuser">saagarjha</a> <span class="age" title="2025-09-03T12:28:50 1756902530"><a href="item?id=45114917">6 hours ago</a></span> <span id="unv_45114917"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">root</a> | <a href="#45111848" class="clicky" aria-hidden="true">parent</a> | <a href="#45111889" class="clicky" aria-hidden="true">prev</a> | <a href="#45115629" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45114917" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Yes, this is pretty normal; your processor will downclock to accommodate. For HPC where the workloads are pretty clearly defined it’s possible to even measure how close you’re coming to the thermal envelope and adjust the workload.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45114917&amp;goto=item%3Fid%3D45110688%2345114917" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45115629"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45115629' href='vote?id=45115629&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=throwaway31131" class="hnuser">throwaway31131</a> <span class="age" title="2025-09-03T13:36:14 1756906574"><a href="item?id=45115629">5 hours ago</a></span> <span id="unv_45115629"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">root</a> | <a href="#45111848" class="clicky" aria-hidden="true">parent</a> | <a href="#45114917" class="clicky" aria-hidden="true">prev</a> | <a href="#45112062" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45115629" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Percent utilization for most operating systems is the amount of time the idle task is not scheduled.  So for both workloads the idle task was never scheduled, hence 100% &quot;utilization&quot;.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45115629&amp;goto=item%3Fid%3D45110688%2345115629" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112062"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45112062' href='vote?id=45112062&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=BrendanLong" class="hnuser">BrendanLong</a> <span class="age" title="2025-09-03T03:43:12 1756870992"><a href="item?id=45112062">14 hours ago</a></span> <span id="unv_45112062"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">root</a> | <a href="#45111848" class="clicky" aria-hidden="true">parent</a> | <a href="#45115629" class="clicky" aria-hidden="true">prev</a> | <a href="#45112377" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112062" n="6" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Some esoteric methods of measuring CPU utilizations are to calculate either the current power usage over the max available power, or the current temperature over the max operating temperature. Unfortunately these are typically even more non-linear than the standard metrics (but they can be useful sometimes).</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112062&amp;goto=item%3Fid%3D45110688%2345112062" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112638"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45112638' href='vote?id=45112638&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=gblargg" class="hnuser">gblargg</a> <span class="age" title="2025-09-03T05:58:12 1756879092"><a href="item?id=45112638">12 hours ago</a></span> <span id="unv_45112638"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">root</a> | <a href="#45112062" class="clicky" aria-hidden="true">parent</a> | <a href="#45112377" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112638" n="5" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Like measuring RMS of an AC voltage by running it through a heating element: <a href="https:&#x2F;&#x2F;wikipedia.org&#x2F;wiki&#x2F;True_RMS_converter#Thermal_converters" rel="nofollow">https:&#x2F;&#x2F;wikipedia.org&#x2F;wiki&#x2F;True_RMS_converter#Thermal_conver...</a></div><div class="reply"><p><font size="1"><u><a href="reply?id=45112638&amp;goto=item%3Fid%3D45110688%2345112638" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113889"><td><table border="0"><tr><td class="ind" indent="4"><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks"><center><a id='up_45113889' href='vote?id=45113889&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=PunchyHamster" class="hnuser">PunchyHamster</a> <span class="age" title="2025-09-03T09:39:01 1756892341"><a href="item?id=45113889">9 hours ago</a></span> <span id="unv_45113889"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">root</a> | <a href="#45112638" class="clicky" aria-hidden="true">parent</a> | <a href="#45112377" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113889" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">except it doesn&#x27;t really tell you much, because having some parts of CPUs underutilized doesn&#x27;t mean adding load will utilize them. Like if load underutilizes floating point units and you have nothing else that uses them</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113889&amp;goto=item%3Fid%3D45110688%2345113889" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45118896"><td><table border="0"><tr><td class="ind" indent="5"><img src="s.gif" height="1" width="200"></td><td valign="top" class="votelinks"><center><a id='up_45118896' href='vote?id=45118896&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=kqr" class="hnuser">kqr</a> <span class="age" title="2025-09-03T18:20:16 1756923616"><a href="item?id=45118896">22 minutes ago</a></span> <span id="unv_45118896"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">root</a> | <a href="#45113889" class="clicky" aria-hidden="true">parent</a> | <a href="#45115258" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45118896" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Also there&#x27;s dark silicon to consider – the CPU simply cannot for thermal reasons run power to all parts of itself at the same time.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45118896&amp;goto=item%3Fid%3D45110688%2345118896" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45115258"><td><table border="0"><tr><td class="ind" indent="5"><img src="s.gif" height="1" width="200"></td><td valign="top" class="votelinks"><center><a id='up_45115258' href='vote?id=45115258&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=inetknght" class="hnuser">inetknght</a> <span class="age" title="2025-09-03T13:06:40 1756904800"><a href="item?id=45115258">5 hours ago</a></span> <span id="unv_45115258"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">root</a> | <a href="#45113889" class="clicky" aria-hidden="true">parent</a> | <a href="#45118896" class="clicky" aria-hidden="true">prev</a> | <a href="#45112377" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45115258" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">&gt; <i>Like if load underutilizes floating point units</i><p>This is why I sigh really hard when people talk about some measurement of FLOPS per second, as if it&#x27;s the only thing that matters.<p>It matters. Perhaps it matters a lot for specific workloads. But most general workloads are integer-based.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45115258&amp;goto=item%3Fid%3D45110688%2345115258" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45118783"><td><table border="0"><tr><td class="ind" indent="6"><img src="s.gif" height="1" width="240"></td><td valign="top" class="votelinks"><center><a id='up_45118783' href='vote?id=45118783&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=colejohnson66" class="hnuser">colejohnson66</a> <span class="age" title="2025-09-03T18:07:30 1756922850"><a href="item?id=45118783">35 minutes ago</a></span> <span id="unv_45118783"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">root</a> | <a href="#45115258" class="clicky" aria-hidden="true">parent</a> | <a href="#45112377" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45118783" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">But *sparkle emoji* <i>AI</i> *sparkle emoji*</div><div class="reply"><p><font size="1"><u><a href="reply?id=45118783&amp;goto=item%3Fid%3D45110688%2345118783" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112377"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45112377' href='vote?id=45112377&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=kqr" class="hnuser">kqr</a> <span class="age" title="2025-09-03T04:57:35 1756875455"><a href="item?id=45112377">13 hours ago</a></span> <span id="unv_45112377"></span><span class="navs"> | <a href="#45111036" class="clicky" aria-hidden="true">prev</a> | <a href="#45112861" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112377" n="8" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">It might be a lie, but it surely is a practical one. In my brief foray into site reliability engineering I used CPU utilisation (of CPU-bofund tasks) with queueing theory to choose how to scale servers before big events.<p>The %CPU suggestions ran contrary to (and were much more conservative than) the &quot;old wisdom&quot; that would otherwise have been used. It worked out great at much lower cost than otherwise.<p>What I&#x27;m trying to say is you shouldn&#x27;t be afraid of using semi-crappy indicators just because they&#x27;re semi-crappy. If it&#x27;s the best you got it might be good enough anyway.<p>In the case of CPU utilisation, though, the number in production shouldn&#x27;t go above 40 % for many reasons. At 40 % there&#x27;s usually still a little headroom. The mistake of the author was not using fundamentals of queueing theory to avoid high utilisation!</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112377&amp;goto=item%3Fid%3D45110688%2345112377" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113653"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45113653' href='vote?id=45113653&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=therealdrag0" class="hnuser">therealdrag0</a> <span class="age" title="2025-09-03T09:01:11 1756890071"><a href="item?id=45113653">9 hours ago</a></span> <span id="unv_45113653"></span><span class="navs"> | <a href="#45112377" class="clicky" aria-hidden="true">parent</a> | <a href="#45113050" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113653" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">&gt; semi-crappy indicator  … good enough.<p>Agree. Another example of this is for metrics as percentiles per host that you have to average, vs histograms per host that get percentile calculated at aggregation time among hosts. Sure an avg&#x2F;max of a percentile is technically not a percentile, but in practice switching between one or the other hasn’t affected my operations at all. Yet I know some people are adamant about mathematical correctness as if that translates to operations.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113653&amp;goto=item%3Fid%3D45110688%2345113653" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45114595"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45114595' href='vote?id=45114595&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=arccy" class="hnuser">arccy</a> <span class="age" title="2025-09-03T11:42:18 1756899738"><a href="item?id=45114595">7 hours ago</a></span> <span id="unv_45114595"></span><span class="navs"> | <a href="#45112377" class="clicky" aria-hidden="true">root</a> | <a href="#45113653" class="clicky" aria-hidden="true">parent</a> | <a href="#45113050" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45114595" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">That works ok when you have evenly distributed load (which you want &#x2F; would hope to have), much less so when your workload is highly unbalanced.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45114595&amp;goto=item%3Fid%3D45110688%2345114595" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113050"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45113050' href='vote?id=45113050&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=mayama" class="hnuser">mayama</a> <span class="age" title="2025-09-03T07:07:39 1756883259"><a href="item?id=45113050">11 hours ago</a></span> <span id="unv_45113050"></span><span class="navs"> | <a href="#45112377" class="clicky" aria-hidden="true">parent</a> | <a href="#45113653" class="clicky" aria-hidden="true">prev</a> | <a href="#45114933" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113050" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Combination of CPU% and loadavg would generally tell how system is doing. I had systems where loadavg is high, waiting on network&#x2F;io, but little cpu%. Tracing high load is not always straightforward as cpu% though, you have to go through io%, net%, syscalls etc.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113050&amp;goto=item%3Fid%3D45110688%2345113050" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45114933"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45114933' href='vote?id=45114933&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=saagarjha" class="hnuser">saagarjha</a> <span class="age" title="2025-09-03T12:31:27 1756902687"><a href="item?id=45114933">6 hours ago</a></span> <span id="unv_45114933"></span><span class="navs"> | <a href="#45112377" class="clicky" aria-hidden="true">parent</a> | <a href="#45113050" class="clicky" aria-hidden="true">prev</a> | <a href="#45113071" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45114933" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">40% seems quite lightly utilized tbh</div><div class="reply"><p><font size="1"><u><a href="reply?id=45114933&amp;goto=item%3Fid%3D45110688%2345114933" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45118845"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45118845' href='vote?id=45118845&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=kqr" class="hnuser">kqr</a> <span class="age" title="2025-09-03T18:15:08 1756923308"><a href="item?id=45118845">27 minutes ago</a></span> <span id="unv_45118845"></span><span class="navs"> | <a href="#45112377" class="clicky" aria-hidden="true">root</a> | <a href="#45114933" class="clicky" aria-hidden="true">parent</a> | <a href="#45117065" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45118845" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">It depends on how variable the load is, compared to how fast the servers can scale up and down, etc. I often have as a rule of thumb to have enough headroom to be able to deal with twice the load while staying within a triple of the response time. You can solve the equations for your specific case, but eyeballing graphs such as [1] I end up somewhere in the area of 40 %.<p>The important part is of course to ask yourself the question &quot;how much increased load may I need to handle, and how much can I degrade system performance in doing so?&quot; You may work in an industry that only ever sees 10 % additional load at timescales where scaling is unfeasible, and then you can pick a significantly higher normal utilisation level. Or maybe you&#x27;re in an industry where you cannot degrade performance by more than 10 % even if hit by five times the load – then you need a much, much more conservative target for utilisation.<p>[1]: <a href="https:&#x2F;&#x2F;erikbern.com&#x2F;assets&#x2F;wait-time-2.png" rel="nofollow">https:&#x2F;&#x2F;erikbern.com&#x2F;assets&#x2F;wait-time-2.png</a></div><div class="reply"><p><font size="1"><u><a href="reply?id=45118845&amp;goto=item%3Fid%3D45110688%2345118845" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45117065"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45117065' href='vote?id=45117065&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=cpncrunch" class="hnuser">cpncrunch</a> <span class="age" title="2025-09-03T15:39:18 1756913958"><a href="item?id=45117065">3 hours ago</a></span> <span id="unv_45117065"></span><span class="navs"> | <a href="#45112377" class="clicky" aria-hidden="true">root</a> | <a href="#45114933" class="clicky" aria-hidden="true">parent</a> | <a href="#45118845" class="clicky" aria-hidden="true">prev</a> | <a href="#45113071" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45117065" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">I tend to use 50% as a soft target, which seems like a good compromise. Sometimes it may go a little bit over that, but if it&#x27;s occasional it shouldn&#x27;t be an issue.<p>It&#x27;s not good to go much over 50% on a server (assuming half the cpus are just hyperthreads), because you&#x27;re essentially relying on your load being able to share the actual cpu cores. At some point, when the load increases too much, there may not be any headroom left for sharing those physical cpus. You then get to the point where adding a little bit more load to 80% suddenly results in 95% utilization.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45117065&amp;goto=item%3Fid%3D45110688%2345117065" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113071"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45113071' href='vote?id=45113071&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=zekrioca" class="hnuser">zekrioca</a> <span class="age" title="2025-09-03T07:10:48 1756883448"><a href="item?id=45113071">11 hours ago</a></span> <span id="unv_45113071"></span><span class="navs"> | <a href="#45112377" class="clicky" aria-hidden="true">parent</a> | <a href="#45114933" class="clicky" aria-hidden="true">prev</a> | <a href="#45112861" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113071" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c88">I noticed exactly the same thing. The author is saying something that has been repeatedly written in queueing theory books for decades, still they are noticing this only now.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113071&amp;goto=item%3Fid%3D45110688%2345113071" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112861"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45112861' href='vote?id=45112861&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=mustache_kimono" class="hnuser">mustache_kimono</a> <span class="age" title="2025-09-03T06:36:17 1756881377"><a href="item?id=45112861">12 hours ago</a></span> <span id="unv_45112861"></span><span class="navs"> | <a href="#45112377" class="clicky" aria-hidden="true">prev</a> | <a href="#45111202" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112861" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Reminds me of Brendan Gregg&#x27;s &quot;CPU Utilization is Wrong&quot; but this blog fails to discuss that blog&#x27;s key point that CPU utilization is a measure of whether or not the CPU is busy, including whether the CPU is waiting [0].  That blog also explains that the IPC (instructions per cycle) metric actually measures useful work hidden within that busy state.<p>[0]: <a href="https:&#x2F;&#x2F;www.brendangregg.com&#x2F;blog&#x2F;2017-05-09&#x2F;cpu-utilization-is-wrong.html" rel="nofollow">https:&#x2F;&#x2F;www.brendangregg.com&#x2F;blog&#x2F;2017-05-09&#x2F;cpu-utilization...</a></div><div class="reply"><p><font size="1"><u><a href="reply?id=45112861&amp;goto=item%3Fid%3D45110688%2345112861" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113770"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45113770' href='vote?id=45113770&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=4gotunameagain" class="hnuser">4gotunameagain</a> <span class="age" title="2025-09-03T09:18:29 1756891109"><a href="item?id=45113770">9 hours ago</a></span> <span id="unv_45113770"></span><span class="navs"> | <a href="#45112861" class="clicky" aria-hidden="true">parent</a> | <a href="#45111202" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113770" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">What&#x27;s up with Brendans and CPU utilisation concerns, any Brendan to shine some light ?</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113770&amp;goto=item%3Fid%3D45110688%2345113770" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45118031"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45118031' href='vote?id=45118031&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=BrendanLong" class="hnuser">BrendanLong</a> <span class="age" title="2025-09-03T16:55:46 1756918546"><a href="item?id=45118031">1 hour ago</a></span> <span id="unv_45118031"></span><span class="navs"> | <a href="#45112861" class="clicky" aria-hidden="true">root</a> | <a href="#45113770" class="clicky" aria-hidden="true">parent</a> | <a href="#45111202" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45118031" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">I&#x27;d love to explain, but you&#x27;d need to change your name to Brendan first.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45118031&amp;goto=item%3Fid%3D45110688%2345118031" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111202"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45111202' href='vote?id=45111202&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=PaulKeeble" class="hnuser">PaulKeeble</a> <span class="age" title="2025-09-03T01:15:41 1756862141"><a href="item?id=45111202">17 hours ago</a></span> <span id="unv_45111202"></span><span class="navs"> | <a href="#45112861" class="clicky" aria-hidden="true">prev</a> | <a href="#45118299" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111202" n="6" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">This is bang on, you can&#x27;t count the hyperthreads as double the performance, typically they are actually in practice only going to bring 15-30% if the job works well with it and their use will double the latency. Failing to account for loss in clockspeed as the core utilisation climbs is another way its not linear and in modern software for the desktop its really something to pay careful attention to.<p>It should be possible from the information you can get on a CPU from the OS to better estimate utilisation involving at the very least these two factors. It becomes a bit more tricky to start to account for significantly going past the cache or available memory bandwidth and the potential drop in performance to existing threads that occurs from the increased pipeline stalls. But it can definitely be done better than it is currently.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111202&amp;goto=item%3Fid%3D45110688%2345111202" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111744"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111744' href='vote?id=45111744&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=c2h5oh" class="hnuser">c2h5oh</a> <span class="age" title="2025-09-03T02:41:12 1756867272"><a href="item?id=45111744">16 hours ago</a></span> <span id="unv_45111744"></span><span class="navs"> | <a href="#45111202" class="clicky" aria-hidden="true">parent</a> | <a href="#45113969" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111744" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">To complicate things more HT performance varies wildly between CPU architectures and workloads. e.g. AMD implementation, especially in later Zen cores, is closer to a performance of a full thread than you&#x27;d see in Intel CPUs. Provided you are not memory bandwidth starved.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111744&amp;goto=item%3Fid%3D45110688%2345111744" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45116741"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45116741' href='vote?id=45116741&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=RaftPeople" class="hnuser">RaftPeople</a> <span class="age" title="2025-09-03T15:11:07 1756912267"><a href="item?id=45116741">3 hours ago</a></span> <span id="unv_45116741"></span><span class="navs"> | <a href="#45111202" class="clicky" aria-hidden="true">root</a> | <a href="#45111744" class="clicky" aria-hidden="true">parent</a> | <a href="#45113782" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45116741" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">&gt; <i>To complicate things more HT performance varies wildly between CPU architectures and workloads.</i><p>IBM&#x27;s Power cpu&#x27;s have also traditionally done a great job with SMT compared to Intel&#x27;s implementation.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45116741&amp;goto=item%3Fid%3D45110688%2345116741" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113782"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45113782' href='vote?id=45113782&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=shim__" class="hnuser">shim__</a> <span class="age" title="2025-09-03T09:19:51 1756891191"><a href="item?id=45113782">9 hours ago</a></span> <span id="unv_45113782"></span><span class="navs"> | <a href="#45111202" class="clicky" aria-hidden="true">root</a> | <a href="#45111744" class="clicky" aria-hidden="true">parent</a> | <a href="#45116741" class="clicky" aria-hidden="true">prev</a> | <a href="#45113969" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113782" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Whats the difference between Intels and AMDs approach?</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113782&amp;goto=item%3Fid%3D45110688%2345113782" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45114089"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45114089' href='vote?id=45114089&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=richardwhiuk" class="hnuser">richardwhiuk</a> <span class="age" title="2025-09-03T10:16:22 1756894582"><a href="item?id=45114089">8 hours ago</a></span> <span id="unv_45114089"></span><span class="navs"> | <a href="#45111202" class="clicky" aria-hidden="true">root</a> | <a href="#45113782" class="clicky" aria-hidden="true">parent</a> | <a href="#45113969" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45114089" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Basically it comes down to how much shared vs dedicated resources each core has.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45114089&amp;goto=item%3Fid%3D45110688%2345114089" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113969"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45113969' href='vote?id=45113969&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=magicalhippo" class="hnuser">magicalhippo</a> <span class="age" title="2025-09-03T09:54:55 1756893295"><a href="item?id=45113969">8 hours ago</a></span> <span id="unv_45113969"></span><span class="navs"> | <a href="#45111202" class="clicky" aria-hidden="true">parent</a> | <a href="#45111744" class="clicky" aria-hidden="true">prev</a> | <a href="#45118299" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113969" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">For memory-bound applications the scaling can be much better. A renderer I worked on was primarily memory-bound walking the accelerator structure, and saw 60-70% increase from hyperthreads.<p>But overall yeah.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113969&amp;goto=item%3Fid%3D45110688%2345113969" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45118299"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45118299' href='vote?id=45118299&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=morning-coffee" class="hnuser">morning-coffee</a> <span class="age" title="2025-09-03T17:18:59 1756919939"><a href="item?id=45118299">1 hour ago</a></span> <span id="unv_45118299"></span><span class="navs"> | <a href="#45111202" class="clicky" aria-hidden="true">prev</a> | <a href="#45114852" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45118299" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">The lie is that hyper thread &quot;cores&quot; are equal to real &quot;cores&quot;. Maybe this is what happens when an over 20-year old technology (hack) becomes ubiquitous and gets forgotten about? (We have to rediscover why our performance measurements don&#x27;t seem to make sense?)<p>The other thing I think we have a hard time visualizing is that processor is only either executing (100%) or its waiting to execute (0%) and that happens over varying timescales... so trying to assign a % in between inherently means you&#x27;re averaging over some arbitrary timescale...</div><div class="reply"><p><font size="1"><u><a href="reply?id=45118299&amp;goto=item%3Fid%3D45110688%2345118299" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45114852"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45114852' href='vote?id=45114852&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=freehorse" class="hnuser">freehorse</a> <span class="age" title="2025-09-03T12:20:02 1756902002"><a href="item?id=45114852">6 hours ago</a></span> <span id="unv_45114852"></span><span class="navs"> | <a href="#45118299" class="clicky" aria-hidden="true">prev</a> | <a href="#45110953" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45114852" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Author discovers that performance does not scale proportionally to %CPU utilisation, and gets instead to the conclusion that %CPU utilisation is a lie.<p>There are many reasons for the lack of a proportional relationship, even in the case where you do not have hyperthreading or downclocking (in which cases you just need to interpret %CPU utilisation in that context, rather than declare it &quot;a lie&quot;). Even in apple silicon where these are usually not an issue, you often do not get an exactly proportional scaling. There may be overheads when utilising multiple cores wrt how data is passed around, or resource bottlenecks other than CPU.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45114852&amp;goto=item%3Fid%3D45110688%2345114852" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45114920"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45114920' href='vote?id=45114920&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=saagarjha" class="hnuser">saagarjha</a> <span class="age" title="2025-09-03T12:29:33 1756902573"><a href="item?id=45114920">6 hours ago</a></span> <span id="unv_45114920"></span><span class="navs"> | <a href="#45114852" class="clicky" aria-hidden="true">parent</a> | <a href="#45110953" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45114920" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Apple silicon downclocks quite a lot especially if you have a passively cooled machine</div><div class="reply"><p><font size="1"><u><a href="reply?id=45114920&amp;goto=item%3Fid%3D45110688%2345114920" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45118955"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45118955' href='vote?id=45118955&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=freehorse" class="hnuser">freehorse</a> <span class="age" title="2025-09-03T18:26:33 1756923993"><a href="item?id=45118955">16 minutes ago</a></span> <span id="unv_45118955"></span><span class="navs"> | <a href="#45114852" class="clicky" aria-hidden="true">root</a> | <a href="#45114920" class="clicky" aria-hidden="true">parent</a> | <a href="#45110953" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45118955" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">With the exception of macbook air that has passive cooling nothing as aggressive as &quot;turbo&quot; modes, and ime it is relatively hard to get to thermal limits just with cpu in general for the devices I have used. Most other manufacturers nowadays officially advertise boosted single core clock speeds that are much higher and lower when more cores are used at the same time. Thermal limits, in contrast, are much more circumstantial.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45118955&amp;goto=item%3Fid%3D45110688%2345118955" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45110953"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45110953' href='vote?id=45110953&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=tgma" class="hnuser">tgma</a> <span class="age" title="2025-09-03T00:38:50 1756859930"><a href="item?id=45110953">18 hours ago</a></span> <span id="unv_45110953"></span><span class="navs"> | <a href="#45114852" class="clicky" aria-hidden="true">prev</a> | <a href="#45111071" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45110953" n="14" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">The way they refer to cores in their system is confusing and non-standard. The author talks about a 5900X as a 24 core machine and discusses as if there are 24 cores, 12 of which are piggybacking on the other 12. In reality, there are 24 hyperthreads that are pretty much pairwise symmetric that execute on top of 12 cores with two sets of instruction pipeline sharing same underlying functional units.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45110953&amp;goto=item%3Fid%3D45110688%2345110953" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111140"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111140' href='vote?id=45111140&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=saghm" class="hnuser">saghm</a> <span class="age" title="2025-09-03T01:04:03 1756861443"><a href="item?id=45111140">17 hours ago</a></span> <span id="unv_45111140"></span><span class="navs"> | <a href="#45110953" class="clicky" aria-hidden="true">parent</a> | <a href="#45111224" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111140" n="5" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Years ago, when trying to explain hyper threading to my brother, who doesn&#x27;t have any specialized technical knowledge, he came up with the analogy that it&#x27;s like 2-ply toilet paper. You don&#x27;t quite have 24 distinct things, but you have 12 that are roughly twice as useful as the individual ones, although you can&#x27;t really separate them and expect them to work right.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111140&amp;goto=item%3Fid%3D45110688%2345111140" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111198"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45111198' href='vote?id=45111198&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=nayuki" class="hnuser">nayuki</a> <span class="age" title="2025-09-03T01:15:14 1756862114"><a href="item?id=45111198">17 hours ago</a></span> <span id="unv_45111198"></span><span class="navs"> | <a href="#45110953" class="clicky" aria-hidden="true">root</a> | <a href="#45111140" class="clicky" aria-hidden="true">parent</a> | <a href="#45111539" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111198" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Nah, it&#x27;s easier than that. Putting two chefs in the same kitchen doesn&#x27;t let you cook twice the amount of food in the same amount of time, because sometimes the two chefs need to use the same resource at the same time - e.g. sink, counter space, oven. But, the additional chef does improve the utilization of the kitchen equipment, leaving fewer things unused.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111198&amp;goto=item%3Fid%3D45110688%2345111198" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45114993"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45114993' href='vote?id=45114993&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=whizzter" class="hnuser">whizzter</a> <span class="age" title="2025-09-03T12:37:49 1756903069"><a href="item?id=45114993">6 hours ago</a></span> <span id="unv_45114993"></span><span class="navs"> | <a href="#45110953" class="clicky" aria-hidden="true">root</a> | <a href="#45111198" class="clicky" aria-hidden="true">parent</a> | <a href="#45111539" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45114993" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Maybe simplify more to make the concept of shared resource explicit.<p>2 chefs with one stove. As long as they&#x27;re doing other things than frying it&#x27;s ok and speeding things up but once they both need the stove you&#x27;re down to 1 working and 1 waiting.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45114993&amp;goto=item%3Fid%3D45110688%2345114993" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111539"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45111539' href='vote?id=45111539&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=BobbyTables2" class="hnuser">BobbyTables2</a> <span class="age" title="2025-09-03T02:07:11 1756865231"><a href="item?id=45111539">16 hours ago</a></span> <span id="unv_45111539"></span><span class="navs"> | <a href="#45110953" class="clicky" aria-hidden="true">root</a> | <a href="#45111140" class="clicky" aria-hidden="true">parent</a> | <a href="#45111198" class="clicky" aria-hidden="true">prev</a> | <a href="#45114017" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111539" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c5A">That’s perfect!<p>Especially when it come to those advertisements “6 large rolls == 18 normal rolls”.<p>Sure it might be thicker but nobody wipes their butt with 1&#x2F;3 a square…</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111539&amp;goto=item%3Fid%3D45110688%2345111539" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45114017"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45114017' href='vote?id=45114017&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=skeezyboy" class="hnuser">skeezyboy</a> <span class="age" title="2025-09-03T10:05:13 1756893913"><a href="item?id=45114017">8 hours ago</a></span> <span id="unv_45114017"></span><span class="navs"> | <a href="#45110953" class="clicky" aria-hidden="true">root</a> | <a href="#45111140" class="clicky" aria-hidden="true">parent</a> | <a href="#45111539" class="clicky" aria-hidden="true">prev</a> | <a href="#45111224" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45114017" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c88">&gt; he came up with the analogy that it&#x27;s like 2-ply toilet paper.<p>as in youd only use it to wipe excrement from around your sphincter</div><div class="reply"><p><font size="1"><u><a href="reply?id=45114017&amp;goto=item%3Fid%3D45110688%2345114017" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111224"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111224' href='vote?id=45111224&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=BrendanLong" class="hnuser">BrendanLong</a> <span class="age" title="2025-09-03T01:20:15 1756862415"><a href="item?id=45111224">17 hours ago</a></span> <span id="unv_45111224"></span><span class="navs"> | <a href="#45110953" class="clicky" aria-hidden="true">parent</a> | <a href="#45111140" class="clicky" aria-hidden="true">prev</a> | <a href="#45114397" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111224" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Thanks for the feedback. I think you&#x27;re right, so I changed a bunch of references and  updated the description of the processor to 12 core &#x2F; 24 thread. In some cases, I still think &quot;cores&quot; is the right terminology though, since my OS (confusingly) reports utilization as-if I had 24 cores.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111224&amp;goto=item%3Fid%3D45110688%2345111224" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111382"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45111382' href='vote?id=45111382&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=sroussey" class="hnuser">sroussey</a> <span class="age" title="2025-09-03T01:42:19 1756863739"><a href="item?id=45111382">17 hours ago</a></span> <span id="unv_45111382"></span><span class="navs"> | <a href="#45110953" class="clicky" aria-hidden="true">root</a> | <a href="#45111224" class="clicky" aria-hidden="true">parent</a> | <a href="#45114397" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111382" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Eh, what’s a thread really? It’s a term for us humans.<p>The difference between two threads and one core or two cores with shared resources?<p>Nothing is really all that neat and clean.<p>It more of a 2 level NUMA type architecture with 2 sets of 6 SMP sets of 2.<p>The scheduler may look at it that way (depending), but to the end user? Or even to most of the system? Nah.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111382&amp;goto=item%3Fid%3D45110688%2345111382" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111969"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45111969' href='vote?id=45111969&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=tgma" class="hnuser">tgma</a> <span class="age" title="2025-09-03T03:24:55 1756869895"><a href="item?id=45111969">15 hours ago</a></span> <span id="unv_45111969"></span><span class="navs"> | <a href="#45110953" class="clicky" aria-hidden="true">root</a> | <a href="#45111382" class="clicky" aria-hidden="true">parent</a> | <a href="#45114397" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111969" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">There are observable differences. For example, under HT, TLB flush or context switch will likely be observable by a neighboring thread whereas for in a full dedicated core, you won&#x27;t observe such things.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111969&amp;goto=item%3Fid%3D45110688%2345111969" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45114397"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45114397' href='vote?id=45114397&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=Neil44" class="hnuser">Neil44</a> <span class="age" title="2025-09-03T11:11:15 1756897875"><a href="item?id=45114397">7 hours ago</a></span> <span id="unv_45114397"></span><span class="navs"> | <a href="#45110953" class="clicky" aria-hidden="true">parent</a> | <a href="#45111224" class="clicky" aria-hidden="true">prev</a> | <a href="#45111244" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45114397" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">If both SMT cores are being asked to do the same workload they will likely contend for the same resource and execution units internally so the boost from SMT will be less. If they have different workloads the boost will be more. Now throw in P and E cores on newer CPU&#x27;s, turbo and non-turbo, everything gets very complicated. I did see a study that adding SMT got a much better performance per watt boost than adding turbo which was interesting&#x2F;useful.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45114397&amp;goto=item%3Fid%3D45110688%2345114397" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111244"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111244' href='vote?id=45111244&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=sroussey" class="hnuser">sroussey</a> <span class="age" title="2025-09-03T01:24:34 1756862674"><a href="item?id=45111244">17 hours ago</a></span> <span id="unv_45111244"></span><span class="navs"> | <a href="#45110953" class="clicky" aria-hidden="true">parent</a> | <a href="#45114397" class="clicky" aria-hidden="true">prev</a> | <a href="#45111071" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111244" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Will be interesting when (if?) Intel ships software defined cores which are the logical inverse of hyper threading.<p>Instead of having a big core with two instruction pipelines sharing big ALUs etc, they have two (or more) cores that combine resources and become one core.<p>Almost the same, yet quite different.<p><a href="https:&#x2F;&#x2F;patents.google.com&#x2F;patent&#x2F;EP4579444A1&#x2F;en" rel="nofollow">https:&#x2F;&#x2F;patents.google.com&#x2F;patent&#x2F;EP4579444A1&#x2F;en</a></div><div class="reply"><p><font size="1"><u><a href="reply?id=45111244&amp;goto=item%3Fid%3D45110688%2345111244" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111449"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45111449' href='vote?id=45111449&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=tgma" class="hnuser">tgma</a> <span class="age" title="2025-09-03T01:52:55 1756864375"><a href="item?id=45111449">16 hours ago</a></span> <span id="unv_45111449"></span><span class="navs"> | <a href="#45110953" class="clicky" aria-hidden="true">root</a> | <a href="#45111244" class="clicky" aria-hidden="true">parent</a> | <a href="#45111071" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111449" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">There was the dreaded AMD FX chip which was advertised as 8 core, but shared functional units. Got sued, etc.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111449&amp;goto=item%3Fid%3D45110688%2345111449" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111705"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45111705' href='vote?id=45111705&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=hedora" class="hnuser">hedora</a> <span class="age" title="2025-09-03T02:34:09 1756866849"><a href="item?id=45111705">16 hours ago</a></span> <span id="unv_45111705"></span><span class="navs"> | <a href="#45110953" class="clicky" aria-hidden="true">root</a> | <a href="#45111449" class="clicky" aria-hidden="true">parent</a> | <a href="#45111071" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111705" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">That patent seems to be describing a dumb way to implement pipelining &#x2F; speculative execution.  Am I missing something?<p>Anyway, by my reading, it’s also similar to the Itanic, er, Itanium, where the “cores” that got combined were pipeline stages.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111705&amp;goto=item%3Fid%3D45110688%2345111705" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111891"><td><table border="0"><tr><td class="ind" indent="4"><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks"><center><a id='up_45111891' href='vote?id=45111891&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=tgma" class="hnuser">tgma</a> <span class="age" title="2025-09-03T03:09:15 1756868955"><a href="item?id=45111891">15 hours ago</a></span> <span id="unv_45111891"></span><span class="navs"> | <a href="#45110953" class="clicky" aria-hidden="true">root</a> | <a href="#45111705" class="clicky" aria-hidden="true">parent</a> | <a href="#45111071" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111891" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">I did not read the patent (do not read patents as a matter of policy.)  Was simply responding to the second paragraph that kind of reminded me of FX Bulldozer chips.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111891&amp;goto=item%3Fid%3D45110688%2345111891" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111071"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45111071' href='vote?id=45111071&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=judge123" class="hnuser">judge123</a> <span class="age" title="2025-09-03T00:53:33 1756860813"><a href="item?id=45111071">17 hours ago</a></span> <span id="unv_45111071"></span><span class="navs"> | <a href="#45110953" class="clicky" aria-hidden="true">prev</a> | <a href="#45112179" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111071" n="7" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">This hits so close to home. I once tried to explain to a manager that a server at 60% utilization had zero room left, and they looked at me like I had two heads. I wish I had this article back then!</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111071&amp;goto=item%3Fid%3D45110688%2345111071" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111124"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111124' href='vote?id=45111124&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=hinkley" class="hnuser">hinkley</a> <span class="age" title="2025-09-03T01:01:24 1756861284"><a href="item?id=45111124">17 hours ago</a></span> <span id="unv_45111124"></span><span class="navs"> | <a href="#45111071" class="clicky" aria-hidden="true">parent</a> | <a href="#45113906" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111124" n="5" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">You also want to hit him with queueing theory.<p>Up to a hair over 60% utilization the queuing delays on any work queue remain essentially negligible. At 70 they become noticeable, and at 80% they&#x27;ve doubled. And then it just turns into a shitshow from there on.<p>The rule of thumb is 60% is zero, and 80% is the inflection point where delays go exponential.<p>The biggest cluster I ran, we hit about 65% CPU at our target P95 time, which is pretty much right on the theoretical mark.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111124&amp;goto=item%3Fid%3D45110688%2345111124" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111177"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45111177' href='vote?id=45111177&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=BrendanLong" class="hnuser">BrendanLong</a> <span class="age" title="2025-09-03T01:11:21 1756861881"><a href="item?id=45111177">17 hours ago</a></span> <span id="unv_45111177"></span><span class="navs"> | <a href="#45111071" class="clicky" aria-hidden="true">root</a> | <a href="#45111124" class="clicky" aria-hidden="true">parent</a> | <a href="#45117183" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111177" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">A big part of this is that CPU utilization metrics are frequently averaged over a long period of time (like a minute), but if your SLO is 100 ms, what you care about is whether there&#x27;s any ~100 ms period where CPU utilization is at 100%. Measuring p99 (or even p100) CPU utilization can make this a lot more visible.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111177&amp;goto=item%3Fid%3D45110688%2345111177" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111752"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45111752' href='vote?id=45111752&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=hinkley" class="hnuser">hinkley</a> <span class="age" title="2025-09-03T02:42:52 1756867372"><a href="item?id=45111752">16 hours ago</a></span> <span id="unv_45111752"></span><span class="navs"> | <a href="#45111071" class="clicky" aria-hidden="true">root</a> | <a href="#45111177" class="clicky" aria-hidden="true">parent</a> | <a href="#45112995" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111752" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">The vertical for this company was one where the daily traffic was oddly regular. That the two lines matched expectations likely has to do with the smoothness of the load.<p>The biggest problem was not variance in request rate it was variance in request <i>cost</i>, which is usually where queuing kicks in, unless you&#x27;re being dumb about things. I think for a lot of apps p98 is probably a better metric to chase, p99 and p100 are useful for understanding your application better, but I&#x27;m not sure you want your bosses to fixate on them.<p>But our contracts were for p95, which was fortunate given the workload, or at least whoever made the contracts got good advice from the engineering team.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111752&amp;goto=item%3Fid%3D45110688%2345111752" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112995"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45112995' href='vote?id=45112995&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=kccqzy" class="hnuser">kccqzy</a> <span class="age" title="2025-09-03T06:58:47 1756882727"><a href="item?id=45112995">11 hours ago</a></span> <span id="unv_45112995"></span><span class="navs"> | <a href="#45111071" class="clicky" aria-hidden="true">root</a> | <a href="#45111177" class="clicky" aria-hidden="true">parent</a> | <a href="#45111752" class="clicky" aria-hidden="true">prev</a> | <a href="#45117183" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112995" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">If your SLO is 100 ms you need far more granular measurement periods than that. You should measure the p99 or p100 utilization for every 5-ms interval or so.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112995&amp;goto=item%3Fid%3D45110688%2345112995" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45117183"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45117183' href='vote?id=45117183&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=Ambroisie" class="hnuser">Ambroisie</a> <span class="age" title="2025-09-03T15:50:15 1756914615"><a href="item?id=45117183">2 hours ago</a></span> <span id="unv_45117183"></span><span class="navs"> | <a href="#45111071" class="clicky" aria-hidden="true">root</a> | <a href="#45111124" class="clicky" aria-hidden="true">parent</a> | <a href="#45111177" class="clicky" aria-hidden="true">prev</a> | <a href="#45113906" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45117183" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Do you have a link to a more in-depth analysis of the queuing theory for these numbers?</div><div class="reply"><p><font size="1"><u><a href="reply?id=45117183&amp;goto=item%3Fid%3D45110688%2345117183" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113906"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45113906' href='vote?id=45113906&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=PunchyHamster" class="hnuser">PunchyHamster</a> <span class="age" title="2025-09-03T09:42:29 1756892549"><a href="item?id=45113906">9 hours ago</a></span> <span id="unv_45113906"></span><span class="navs"> | <a href="#45111071" class="clicky" aria-hidden="true">parent</a> | <a href="#45111124" class="clicky" aria-hidden="true">prev</a> | <a href="#45112179" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113906" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">that entirely depends on workload. especially now when average server CPUs start at 32 cores</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113906&amp;goto=item%3Fid%3D45110688%2345113906" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112179"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45112179' href='vote?id=45112179&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=dragontamer" class="hnuser">dragontamer</a> <span class="age" title="2025-09-03T04:09:00 1756872540"><a href="item?id=45112179">14 hours ago</a></span> <span id="unv_45112179"></span><span class="navs"> | <a href="#45111071" class="clicky" aria-hidden="true">prev</a> | <a href="#45117774" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112179" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">There&#x27;s many ways CPU utilization fails to work as expected.<p>I didn&#x27;t expect an article on this style. I was expecting the normal Linux&#x2F;Windows utilization but wtf it&#x27;s all RAM bottlenecked and the CPU is actually quiet and possibly down clocking thing.<p>CPU Utilization is only how many cores are given threads to run by the OS (be it Windows or Linux). Those threads could be 100% blocked on memcpy but that&#x27;s still CPU utilization.<p>-------<p>Hyperthreads help: if one thread is truly CPU bound (or even more specifically: AVX &#x2F; Vector unit bound), while a 2nd thread is hyperthreaded together that&#x27;s memcpy &#x2F; RAM bound, you&#x27;ll magically get more performance due to higher utilization of resources. (Load&#x2F;store units are separate from AVX compute units).<p>In any case, this is a perennial subject with always new discoveries about how CPU Utilization is far less intuitive than many think. Still kinda fun to learn about new perspectives on this matter in any case.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112179&amp;goto=item%3Fid%3D45110688%2345112179" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45117774"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45117774' href='vote?id=45117774&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=tonymet" class="hnuser">tonymet</a> <span class="age" title="2025-09-03T16:35:32 1756917332"><a href="item?id=45117774">2 hours ago</a></span> <span id="unv_45117774"></span><span class="navs"> | <a href="#45112179" class="clicky" aria-hidden="true">prev</a> | <a href="#45112999" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45117774" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">I like his empirical approach to get to the root significance of the cpu %-age indicator.  Software engineers and data analysts take discrete &quot;data&quot; measurements  and statistics for granted.<p>&quot;data&quot; &#x2F; &quot;stats&quot; are only a report, and that report is often incorrect.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45117774&amp;goto=item%3Fid%3D45110688%2345117774" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112999"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45112999' href='vote?id=45112999&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=swiftcoder" class="hnuser">swiftcoder</a> <span class="age" title="2025-09-03T06:59:10 1756882750"><a href="item?id=45112999">11 hours ago</a></span> <span id="unv_45112999"></span><span class="navs"> | <a href="#45117774" class="clicky" aria-hidden="true">prev</a> | <a href="#45112924" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112999" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">I remember being stuck in a discussion with management one time, that went something like this:
Manager: CPU utilisation is 100% under load! We have to migrate to bigger instances.
Me: but is the CPU actually doing useful work?<p>(chat, it was not. busy waiting is CPU utilisation too)</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112999&amp;goto=item%3Fid%3D45110688%2345112999" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112924"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45112924' href='vote?id=45112924&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=ChaoPrayaWave" class="hnuser">ChaoPrayaWave</a> <span class="age" title="2025-09-03T06:47:28 1756882048"><a href="item?id=45112924">11 hours ago</a></span> <span id="unv_45112924"></span><span class="navs"> | <a href="#45112999" class="clicky" aria-hidden="true">prev</a> | <a href="#45111841" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112924" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">These days I treat CPU usage as just a hint, not a conclusion. I also look at response times, queue lengths, and try to figure out what the app is actually doing when it looks idle.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112924&amp;goto=item%3Fid%3D45110688%2345112924" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111841"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45111841' href='vote?id=45111841&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=kristopolous" class="hnuser">kristopolous</a> <span class="age" title="2025-09-03T02:59:24 1756868364"><a href="item?id=45111841">15 hours ago</a></span> <span id="unv_45111841"></span><span class="navs"> | <a href="#45112924" class="clicky" aria-hidden="true">prev</a> | <a href="#45112072" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111841" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Tried to explain this in a job interview 5 years ago. They thought I was a bullshitter</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111841&amp;goto=item%3Fid%3D45110688%2345111841" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112442"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45112442' href='vote?id=45112442&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=bionsystem" class="hnuser">bionsystem</a> <span class="age" title="2025-09-03T05:15:54 1756876554"><a href="item?id=45112442">13 hours ago</a></span> <span id="unv_45112442"></span><span class="navs"> | <a href="#45111841" class="clicky" aria-hidden="true">parent</a> | <a href="#45112072" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112442" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Happened to me on a different topic, felt bad for way too long ; in hindsight I&#x27;m pretty sure I dodged a bullet.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112442&amp;goto=item%3Fid%3D45110688%2345112442" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45118118"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45118118' href='vote?id=45118118&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=kristopolous" class="hnuser">kristopolous</a> <span class="age" title="2025-09-03T17:04:19 1756919059"><a href="item?id=45118118">1 hour ago</a></span> <span id="unv_45118118"></span><span class="navs"> | <a href="#45111841" class="clicky" aria-hidden="true">root</a> | <a href="#45112442" class="clicky" aria-hidden="true">parent</a> | <a href="#45112072" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45118118" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">This was the same interview where some guy was asking me about &quot;big-o&quot; - like the thing that you teach 19 year olds and I was saying that parallelization matters, i&#x2F;o matters, quantization matters, whether you can run it on the GPU, these all matter.<p>The simple &quot;big-o&quot; number doesn&#x27;t account for whether you need to pass terabytes over the bus for every operation - and on actual computers moving around terabytes, I know, shockingly, this affects performance.<p>And if you have a dual epyc board with 1,024 threads, being able to parallelize a solution and design things for cache optimization, this isn&#x27;t meaningless.<p>It&#x27;s a weak classifier - if you really think I&#x27;m going to be doing a lexical sort in like O(n^3) like some kind of clown, I don&#x27;t know what you&#x27;re hiring here.<p>Found out later he scored me &quot;2&#x2F;5&quot;.<p>Alright, cool.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45118118&amp;goto=item%3Fid%3D45110688%2345118118" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112072"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45112072' href='vote?id=45112072&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=0xbadcafebee" class="hnuser">0xbadcafebee</a> <span class="age" title="2025-09-03T03:44:49 1756871089"><a href="item?id=45112072">14 hours ago</a></span> <span id="unv_45112072"></span><span class="navs"> | <a href="#45111841" class="clicky" aria-hidden="true">prev</a> | <a href="#45113359" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112072" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">The benchmark is basically application performance testing, which is the most accurate representation you can get. Test the specific app(s) your server is running, with real-world data&#x2F;scenarios, and keep cranking up the requests, until the server falls over. Nothing else will give you as accurate an indication of your server&#x27;s actual maximum performance with that app. Do that for every variable that&#x27;s relevant (# requests&#x2F;s, payload size, # parameters, etc), so you have multiple real-world maximum-performance indicators to configure your observability monitors for.<p>One way to get closer to reliable performance is to apply cpu scheduler limits to what runs your applications to keep them below a given threshold. This way you can better ensure you can sustain a given amount of performance. You don&#x27;t want to run at 100% cpu for long, especially if disk i&#x2F;o becomes hampered, system load skyrockets, and availability starts to plummet. Two thousand servers with 5000ms ping times due to system load is not a fun day at the office.<p>(And actually you&#x27;ll never get a completely accurate view, as performance can change per-server. Rack two identical servers in two different racks, run the same app on each, and you may see different real-world performance. One rack may be hotter than the other, there could be hidden hardware or firmware differences, etc. Even within a server, if one CPU is just nearer a hotter component than on another server, for reasons)</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112072&amp;goto=item%3Fid%3D45110688%2345112072" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113359"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45113359' href='vote?id=45113359&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=Aissen" class="hnuser">Aissen</a> <span class="age" title="2025-09-03T08:06:08 1756886768"><a href="item?id=45113359">10 hours ago</a></span> <span id="unv_45113359"></span><span class="navs"> | <a href="#45112072" class="clicky" aria-hidden="true">prev</a> | <a href="#45111995" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113359" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Funny that it talks about matrixprod, which I think is not that relevant as benchmark — unless you care about x87 performance specifically. I recently sent a pull request to try to address that in a generic manner: <a href="https:&#x2F;&#x2F;github.com&#x2F;ColinIanKing&#x2F;stress-ng&#x2F;pull&#x2F;561" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;ColinIanKing&#x2F;stress-ng&#x2F;pull&#x2F;561</a><p>Yet I&#x27;m still surprised by this benchmark. On both Zen2 and Zen4 in my tests (5900X from the article is Zen3), matrixprod still benefits from hyperthreading and scales a bit after all the physical cores are filled, unlike what the article results show.<p>All of this is tangential of course, as I&#x27;d tend to agree that CPU utilization% is just an imprecise metric and should only be used as a measure of &quot;is something running&quot;.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113359&amp;goto=item%3Fid%3D45110688%2345113359" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111995"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45111995' href='vote?id=45111995&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=CCs" class="hnuser">CCs</a> <span class="age" title="2025-09-03T03:29:36 1756870176"><a href="item?id=45111995">15 hours ago</a></span> <span id="unv_45111995"></span><span class="navs"> | <a href="#45113359" class="clicky" aria-hidden="true">prev</a> | <a href="#45113453" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111995" n="5" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Uses stress-ng for benchmarking, even though the stress-ng documentation says it is not suitable for benchmarking. It was written to max out one component until it burns. 
Using a real app, like Memcached or Postgres would show more realistic numbers, closer to what people use in production. 
The difference is not major, 50% utilization is closer to 80% in real load, but it breaks down faster. Stress-ng is nicely linear until 100%, memcached will have a hockey stick curve at the end.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111995&amp;goto=item%3Fid%3D45110688%2345111995" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112120"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45112120' href='vote?id=45112120&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=BrendanLong" class="hnuser">BrendanLong</a> <span class="age" title="2025-09-03T03:54:04 1756871644"><a href="item?id=45112120">14 hours ago</a></span> <span id="unv_45112120"></span><span class="navs"> | <a href="#45111995" class="clicky" aria-hidden="true">parent</a> | <a href="#45113453" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112120" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">The advantage of stress-ng is that it&#x27;s easy to make it run with specific CPU utilization numbers. The tests where I run some number of workers at 100% utilization are interesting since they give such perfect graphs, but I think the version where I have 24 workers and increase their utilization slowly is more realistic for showing how production CPU utilization changes.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112120&amp;goto=item%3Fid%3D45110688%2345112120" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112282"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45112282' href='vote?id=45112282&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=BrendanLong" class="hnuser">BrendanLong</a> <span class="age" title="2025-09-03T04:36:21 1756874181"><a href="item?id=45112282">14 hours ago</a></span> <span id="unv_45112282"></span><span class="navs"> | <a href="#45111995" class="clicky" aria-hidden="true">root</a> | <a href="#45112120" class="clicky" aria-hidden="true">parent</a> | <a href="#45113453" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112282" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Fun data point though, I just ran three data points of the Phoronix nginx benchmark and got these results:<p>- Pinned to 6 cores: 28k QPS<p>- Pinned to 12 cores: 56k QPS<p>- All 24 cores: 62k QPS<p>I&#x27;m not sure how this applies to realistic workloads where you&#x27;re using all of the cores but not maxing them out, but it looks like hyperthreading only adds ~10% performance in this case.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112282&amp;goto=item%3Fid%3D45110688%2345112282" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113926"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45113926' href='vote?id=45113926&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=PunchyHamster" class="hnuser">PunchyHamster</a> <span class="age" title="2025-09-03T09:45:26 1756892726"><a href="item?id=45113926">8 hours ago</a></span> <span id="unv_45113926"></span><span class="navs"> | <a href="#45111995" class="clicky" aria-hidden="true">root</a> | <a href="#45112282" class="clicky" aria-hidden="true">parent</a> | <a href="#45112958" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113926" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">I&#x27;d imagine in this case it&#x27;s just uncounted usage from OS networking stack</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113926&amp;goto=item%3Fid%3D45110688%2345113926" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112958"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45112958' href='vote?id=45112958&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=justsomehnguy" class="hnuser">justsomehnguy</a> <span class="age" title="2025-09-03T06:52:20 1756882340"><a href="item?id=45112958">11 hours ago</a></span> <span id="unv_45112958"></span><span class="navs"> | <a href="#45111995" class="clicky" aria-hidden="true">root</a> | <a href="#45112282" class="clicky" aria-hidden="true">parent</a> | <a href="#45113926" class="clicky" aria-hidden="true">prev</a> | <a href="#45113453" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112958" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">You missed to try 18 cores.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112958&amp;goto=item%3Fid%3D45110688%2345112958" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113453"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45113453' href='vote?id=45113453&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=bob1029" class="hnuser">bob1029</a> <span class="age" title="2025-09-03T08:25:34 1756887934"><a href="item?id=45113453">10 hours ago</a></span> <span id="unv_45113453"></span><span class="navs"> | <a href="#45111995" class="clicky" aria-hidden="true">prev</a> | <a href="#45110975" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113453" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">I think looking at power consumption is potentially a more interesting canary when using very high core count parts.<p>I&#x27;ve ran some ML experiments on my 5950x and I can tell that the CPU utilization figure is entirely decoupled from physical reality by observing the amount of flicker induced in my office lighting by the PWM noise in the machine. There are some code paths that show 10% utilization across all cores but make the cicadas outside my office window stop buzzing because the semiconductors get so loud. Other code paths show all cores 100% maxed flatline and it&#x27;s like the machine isn&#x27;t even on.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113453&amp;goto=item%3Fid%3D45110688%2345113453" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45110975"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45110975' href='vote?id=45110975&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=hinkley" class="hnuser">hinkley</a> <span class="age" title="2025-09-03T00:41:01 1756860061"><a href="item?id=45110975">18 hours ago</a></span> <span id="unv_45110975"></span><span class="navs"> | <a href="#45113453" class="clicky" aria-hidden="true">prev</a> | <a href="#45114840" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45110975" n="37" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">How many times has hyperthreading been an actual performance benefit in processors? I cannot count how many times an article has come out saying you&#x27;ll get better performance out of your &lt;insert processor here&gt; by turning off hyperthreading in the BIOS.<p>It&#x27;s gotta be at least 2 out of every 3 chip generations going back to the original implementation, where you&#x27;re better off without it than with.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45110975&amp;goto=item%3Fid%3D45110688%2345110975" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111676"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111676' href='vote?id=45111676&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=loeg" class="hnuser">loeg</a> <span class="age" title="2025-09-03T02:28:39 1756866519"><a href="item?id=45111676">16 hours ago</a></span> <span id="unv_45111676"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">parent</a> | <a href="#45111032" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111676" n="6" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">HT provides a significant benefit to many workloads.  The use cases that benefit from actually <i>disabling</i> HT are likely working around pessimal OS scheduler or application thread use.  (After all, even with it enabled, you&#x27;re free to not use the sibling cores.)  Otherwise, it is an overgeneralization to say that disabling it will benefit arbitrary workloads.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111676&amp;goto=item%3Fid%3D45110688%2345111676" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111727"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45111727' href='vote?id=45111727&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=hedora" class="hnuser">hedora</a> <span class="age" title="2025-09-03T02:37:07 1756867027"><a href="item?id=45111727">16 hours ago</a></span> <span id="unv_45111727"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111676" class="clicky" aria-hidden="true">parent</a> | <a href="#45112797" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111727" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">There’s some argument that you should jam stuff on to as few hyperthread pairs as possible to improve energy efficiency and cache locality.<p>Of course, if the CPU governor is set to “performance” or “game mode”, then the OS should use as many pairs as possible instead (unless thermal throttling matters; computers are hard).</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111727&amp;goto=item%3Fid%3D45110688%2345111727" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112797"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45112797' href='vote?id=45112797&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=mkbosmans" class="hnuser">mkbosmans</a> <span class="age" title="2025-09-03T06:25:26 1756880726"><a href="item?id=45112797">12 hours ago</a></span> <span id="unv_45112797"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111676" class="clicky" aria-hidden="true">parent</a> | <a href="#45111727" class="clicky" aria-hidden="true">prev</a> | <a href="#45111942" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112797" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Especially in HPC there are lots of workloads that do not benefit from SMT.  Such workloads are almost always bottlenecked on either memory bandwidth or vector execution ports.  These are exactly the resources that are shared between the sibling threads.<p>So now you have a choice of either disabling SMT in the bios, or make sure the application correctly interprets the CPU topology and only spawns one thread per physical core.  The former is often the easier option, both from software development and system administration perspective.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112797&amp;goto=item%3Fid%3D45110688%2345112797" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113947"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45113947' href='vote?id=45113947&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=PunchyHamster" class="hnuser">PunchyHamster</a> <span class="age" title="2025-09-03T09:48:56 1756892936"><a href="item?id=45113947">8 hours ago</a></span> <span id="unv_45113947"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45112797" class="clicky" aria-hidden="true">parent</a> | <a href="#45114084" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113947" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">HT cores can still run OS stuff in that case as that isn&#x27;t really in contention with those. Tho I can see someone not wanting to bother with pinning</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113947&amp;goto=item%3Fid%3D45110688%2345113947" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45114084"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45114084' href='vote?id=45114084&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=skeezyboy" class="hnuser">skeezyboy</a> <span class="age" title="2025-09-03T10:15:12 1756894512"><a href="item?id=45114084">8 hours ago</a></span> <span id="unv_45114084"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45112797" class="clicky" aria-hidden="true">parent</a> | <a href="#45113947" class="clicky" aria-hidden="true">prev</a> | <a href="#45111942" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45114084" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c5A">&gt;Especially in HPC there are lots of workloads that do not benefit from SMT...So now you have a choice of either disabling SMT in the bios<p>Thats madness. Theyre cheaper than their all-core equivalent. Why even buy one in the first place if HT slows down the CPU? Youre still better off with them enabled.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45114084&amp;goto=item%3Fid%3D45110688%2345114084" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111942"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45111942' href='vote?id=45111942&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=robocat" class="hnuser">robocat</a> <span class="age" title="2025-09-03T03:19:25 1756869565"><a href="item?id=45111942">15 hours ago</a></span> <span id="unv_45111942"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111676" class="clicky" aria-hidden="true">parent</a> | <a href="#45112797" class="clicky" aria-hidden="true">prev</a> | <a href="#45111032" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111942" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">&gt; use cases that benefit from actually disabling HT<p>Other benefits: per-CPU software licencing sometimes, and security on servers that share CPU with multiple clients.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111942&amp;goto=item%3Fid%3D45110688%2345111942" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111032"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111032' href='vote?id=45111032&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=twoodfin" class="hnuser">twoodfin</a> <span class="age" title="2025-09-03T00:48:50 1756860530"><a href="item?id=45111032">17 hours ago</a></span> <span id="unv_45111032"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">parent</a> | <a href="#45111676" class="clicky" aria-hidden="true">prev</a> | <a href="#45111137" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111032" n="13" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">For whatever it’s worth, operational database systems (many users&#x2F;connections, unpredictable access patterns) are beneficiaries of modern hyperthreading.<p>I’m familiar with one such system where the throughput benefit is ~15%, which is a big deal for a BIOS flag.<p>IBM’s POWER would have been discontinued a decade ago were it not for transactional database systems, and that architecture is heavily invested in SMT, up to 8-way(!)</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111032&amp;goto=item%3Fid%3D45110688%2345111032" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111327"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45111327' href='vote?id=45111327&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=tom_" class="hnuser">tom_</a> <span class="age" title="2025-09-03T01:35:54 1756863354"><a href="item?id=45111327">17 hours ago</a></span> <span id="unv_45111327"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111032" class="clicky" aria-hidden="true">parent</a> | <a href="#45111183" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111327" n="9" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Why do they need so many threads? This really feels like they just designed the cpu poorly, in that it can&#x27;t extract enough parallelism out of the instruction stream already.<p>(Intel and AMD stopped at 2! Apparently more wasn&#x27;t worth it for them. Presumably because the cpu was doing enough of the right thing already.)</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111327&amp;goto=item%3Fid%3D45110688%2345111327" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111647"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45111647' href='vote?id=45111647&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=ckozlowski" class="hnuser">ckozlowski</a> <span class="age" title="2025-09-03T02:24:31 1756866271"><a href="item?id=45111647">16 hours ago</a></span> <span id="unv_45111647"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111327" class="clicky" aria-hidden="true">parent</a> | <a href="#45111618" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111647" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">As I recall it, Intel brought about Hyperthreading on Northwood and later Pentium 4s as a way to help with issues in it&#x27;s long pipeline. As I remember it described at the time, P4 had 30+ stages in it&#x27;s pipeline. Many of them did not need to be used in a given thread. Furthermore, if a branch prediction engine guessed wrong, then the pipeline needed to be cleared and started anew. For a 30+ stage pipeline, that&#x27;s a lot of wasted clock cycles.<p>So hyper-threading was a way to recoup some of those losses. I recall reading at the time that it was a &quot;latency hiding technique&quot;. How effective it was I leave to others. But it became standard it seems on all x86 processors in time. Core and Core 2 didn&#x27;t seem to need it (much shorter pipelines) but later Intel and AMD processors got it.<p>This is how it was explained to me at the time anyways. I was working at an OEM from &#x27;02-&#x27;05, and I recall when this feature came out. I pulled out my copy of &quot;Inside the Machine&quot; by Jon Stokes which goes deep into the P4 architecture, but strangely I can only find a single mention of hyperthreading in the book. But it goes far into the P4 architecture and why branch misses are so punishing. It&#x27;s a good read.<p>Edit: Adding that I suspect instruction pipelines are not so long that adding additional threads would help. I suspect diminishing returns past 2.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111647&amp;goto=item%3Fid%3D45110688%2345111647" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111975"><td><table border="0"><tr><td class="ind" indent="4"><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks"><center><a id='up_45111975' href='vote?id=45111975&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=justsomehnguy" class="hnuser">justsomehnguy</a> <span class="age" title="2025-09-03T03:25:48 1756869948"><a href="item?id=45111975">15 hours ago</a></span> <span id="unv_45111975"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111647" class="clicky" aria-hidden="true">parent</a> | <a href="#45111835" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111975" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">&gt; As I recall it, Intel brought about Hyperthreading on Northwood and later Pentium 4s as a way to help with issues in it&#x27;s long pipeline.<p>Well, Intel brought Hyperthreading to Xeon first and they were quite slow, so the additional <i>thread</i> performance were quite welcome there.<p>But the GHz race was lead to the monstruosity of 3.06GHz CPUs where the improvement in <i>speed</i> didn&#x27;t quite translated to the improvement in performance. And while the Northwood fared well (especially considering the disaster of Willamette) GHz&#x2F;performance wise, the Prescott wasn&#x27;t and mostly showed the same performance in non-SSE&#x2F;cache bound tasks[1], so Intel needed to push the GHz further which required a longer pipeline and brought even more penalty on a prediction miss.<p>Well, at least this is how I remember it.<p>[0] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;List_of_Intel_Xeon_processors_(NetBurst-based)#%22Foster_MP%22_(180_nm)" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;List_of_Intel_Xeon_processors_...</a><p>[1] but excelled in the room heating, people joked what they even didn&#x27;t bother with an apartment heating in winter, just leaving a computer running</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111975&amp;goto=item%3Fid%3D45110688%2345111975" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111835"><td><table border="0"><tr><td class="ind" indent="4"><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks"><center><a id='up_45111835' href='vote?id=45111835&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=bee_rider" class="hnuser">bee_rider</a> <span class="age" title="2025-09-03T02:57:44 1756868264"><a href="item?id=45111835">15 hours ago</a></span> <span id="unv_45111835"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111647" class="clicky" aria-hidden="true">parent</a> | <a href="#45111975" class="clicky" aria-hidden="true">prev</a> | <a href="#45111618" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111835" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Any time somebody mentions the Pentium 4, it feels like a peek at a time-line we didn’t end up going down. Imagine if Intel had stuck to their guns, maybe they could have pushed through and we’d have CPUs with ridiculous 90 stage pipelines, and like 4 threads per core. Maybe frameworks, languages, and programmer experience would have conspired to help write programs with threads that work together very closely, taking advantage of the shared cache of the hyperthreads.<p>I mean, it obviously didn’t happen, but it is fun to wonder about.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111835&amp;goto=item%3Fid%3D45110688%2345111835" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111618"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45111618' href='vote?id=45111618&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=TristanBall" class="hnuser">TristanBall</a> <span class="age" title="2025-09-03T02:20:25 1756866025"><a href="item?id=45111618">16 hours ago</a></span> <span id="unv_45111618"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111327" class="clicky" aria-hidden="true">parent</a> | <a href="#45111647" class="clicky" aria-hidden="true">prev</a> | <a href="#45114389" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111618" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">I suspect part of it is licensing games, both in the sense of &quot;avoiding per core license limits&quot; which absolutely matters when your DB is costing a million bucks, and also in the &#x27;enable the highest PVU score per chassis&#x27; for ibm&#x27;s own license farming.<p>Power systems tend not to be under the same budget constraints as intel, whether thats money, power, heat, whatever, so the cost benifit of adding more sub-core processing for incremental gains is likely different too.<p>I may have a raft of issues with IBM, and aix, but those Power chips are top notch.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111618&amp;goto=item%3Fid%3D45110688%2345111618" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111764"><td><table border="0"><tr><td class="ind" indent="4"><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks"><center><a id='up_45111764' href='vote?id=45111764&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=hinkley" class="hnuser">hinkley</a> <span class="age" title="2025-09-03T02:44:37 1756867477"><a href="item?id=45111764">15 hours ago</a></span> <span id="unv_45111764"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111618" class="clicky" aria-hidden="true">parent</a> | <a href="#45114389" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111764" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c73">Yeah that was another thing. You run Oracle you gotta turn that shit off in the BIOS otherwise you&#x27;re getting charged 2x for 20% more performance.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111764&amp;goto=item%3Fid%3D45110688%2345111764" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112034"><td><table border="0"><tr><td class="ind" indent="5"><img src="s.gif" height="1" width="200"></td><td valign="top" class="votelinks"><center><a id='up_45112034' href='vote?id=45112034&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=wmf" class="hnuser">wmf</a> <span class="age" title="2025-09-03T03:37:34 1756870654"><a href="item?id=45112034">15 hours ago</a></span> <span id="unv_45112034"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111764" class="clicky" aria-hidden="true">parent</a> | <a href="#45114389" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112034" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">AFAIK Oracle does not charge extra for SMT.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112034&amp;goto=item%3Fid%3D45110688%2345112034" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45114389"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45114389' href='vote?id=45114389&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=twoodfin" class="hnuser">twoodfin</a> <span class="age" title="2025-09-03T11:08:38 1756897718"><a href="item?id=45114389">7 hours ago</a></span> <span id="unv_45114389"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111327" class="clicky" aria-hidden="true">parent</a> | <a href="#45111618" class="clicky" aria-hidden="true">prev</a> | <a href="#45111606" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45114389" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Low-latency databases are architected to be memory-bandwidth bound. SMT allows more connections to be generating more loads faster, utilizing more memory bandwidth.<p>Think async or green threads, but for memory or branch misses rather than blocking I&#x2F;O.<p>(As mentioned elsewhere, optimizing for vendor licensing practices is a nice side benefit, but obviously if the vendors want $X for Y compute on their database, they’ll charge that somehow.)</div><div class="reply"><p><font size="1"><u><a href="reply?id=45114389&amp;goto=item%3Fid%3D45110688%2345114389" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111606"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45111606' href='vote?id=45111606&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=wmf" class="hnuser">wmf</a> <span class="age" title="2025-09-03T02:17:06 1756865826"><a href="item?id=45111606">16 hours ago</a></span> <span id="unv_45111606"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111327" class="clicky" aria-hidden="true">parent</a> | <a href="#45114389" class="clicky" aria-hidden="true">prev</a> | <a href="#45111183" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111606" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Power does have higher memory latency because of OMI and it supports more sockets. But I think the main motivation for SMT8 is low-IPC spaghetti code.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111606&amp;goto=item%3Fid%3D45110688%2345111606" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111183"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45111183' href='vote?id=45111183&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=jiggawatts" class="hnuser">jiggawatts</a> <span class="age" title="2025-09-03T01:12:32 1756861952"><a href="item?id=45111183">17 hours ago</a></span> <span id="unv_45111183"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111032" class="clicky" aria-hidden="true">parent</a> | <a href="#45111327" class="clicky" aria-hidden="true">prev</a> | <a href="#45111137" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111183" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">I&#x27;ve noticed an overreliance on throughput as measured during 100% load as <i>the</i> performance metric, which has resulted in hardware vendors &quot;optimising to the test&quot; at the expense of other, arguably more important metrics. For example: single-user latency when the server is just 50% loaded.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111183&amp;goto=item%3Fid%3D45110688%2345111183" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111269"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45111269' href='vote?id=45111269&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=twoodfin" class="hnuser">twoodfin</a> <span class="age" title="2025-09-03T01:27:46 1756862866"><a href="item?id=45111269">17 hours ago</a></span> <span id="unv_45111269"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111183" class="clicky" aria-hidden="true">parent</a> | <a href="#45111770" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111269" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">That’s more than fair.<p>In the system I’m most familiar with, however, the benefits of hyperthreading for throughput extend to the 50-70% utilization band where p99 latency is not stressed.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111269&amp;goto=item%3Fid%3D45110688%2345111269" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111770"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45111770' href='vote?id=45111770&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=hinkley" class="hnuser">hinkley</a> <span class="age" title="2025-09-03T02:45:30 1756867530"><a href="item?id=45111770">15 hours ago</a></span> <span id="unv_45111770"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111183" class="clicky" aria-hidden="true">parent</a> | <a href="#45111269" class="clicky" aria-hidden="true">prev</a> | <a href="#45111137" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111770" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Or p98 time for requests. Throughput and latency are usually at odds with each other.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111770&amp;goto=item%3Fid%3D45110688%2345111770" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111137"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111137' href='vote?id=45111137&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=BrendanLong" class="hnuser">BrendanLong</a> <span class="age" title="2025-09-03T01:02:50 1756861370"><a href="item?id=45111137">17 hours ago</a></span> <span id="unv_45111137"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">parent</a> | <a href="#45111032" class="clicky" aria-hidden="true">prev</a> | <a href="#45111769" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111137" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">To be fair, in most of these tests hyperthreading did provide a significant benefit (in the general CPU stress test, the hyperthreads increased performance by ~66%). It&#x27;s just confusing that utilization metrics treat hyperthread usage the same as full physical cores.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111137&amp;goto=item%3Fid%3D45110688%2345111137" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111769"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111769' href='vote?id=45111769&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=bee_rider" class="hnuser">bee_rider</a> <span class="age" title="2025-09-03T02:45:20 1756867520"><a href="item?id=45111769">15 hours ago</a></span> <span id="unv_45111769"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">parent</a> | <a href="#45111137" class="clicky" aria-hidden="true">prev</a> | <a href="#45111119" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111769" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Those weird Xeon Phi accelerators had 4 threads per core, and IIRC needed at least 2 running to get full performance. They were sort of niche, though.<p>I guess in general parallelism inside a core will either be extracted by the computer automatically with instruction-level-parallelism, or the programmer can tell it about independent tasks, using hyperthreads. So the hyperthread implementations are optimistic about how much progrmmers care about performance, haha.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111769&amp;goto=item%3Fid%3D45110688%2345111769" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112741"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45112741' href='vote?id=45112741&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=mkbosmans" class="hnuser">mkbosmans</a> <span class="age" title="2025-09-03T06:17:17 1756880237"><a href="item?id=45112741">12 hours ago</a></span> <span id="unv_45112741"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111769" class="clicky" aria-hidden="true">parent</a> | <a href="#45111119" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112741" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Sort of niche indeed.<p>In addition to needing SMT to get full performance, there were a lot of other small details you needed to get right on Xeon Phi to get close to the advertised performance.  Think of AVX512 and the HBM.<p>For practical applications, it never really delivered.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112741&amp;goto=item%3Fid%3D45110688%2345112741" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111119"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111119' href='vote?id=45111119&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=duped" class="hnuser">duped</a> <span class="age" title="2025-09-03T01:00:40 1756861240"><a href="item?id=45111119">17 hours ago</a></span> <span id="unv_45111119"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">parent</a> | <a href="#45111769" class="clicky" aria-hidden="true">prev</a> | <a href="#45110992" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111119" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">For me today it&#x27;s definitely a pessimation because I have enough well-meaning applications that spawn `nproc` worker threads. Which would be fine if they&#x27;re the only process running, but they&#x27;re not.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111119&amp;goto=item%3Fid%3D45110688%2345111119" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111406"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45111406' href='vote?id=45111406&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=hinkley" class="hnuser">hinkley</a> <span class="age" title="2025-09-03T01:46:06 1756863966"><a href="item?id=45111406">16 hours ago</a></span> <span id="unv_45111406"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111119" class="clicky" aria-hidden="true">parent</a> | <a href="#45111324" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111406" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">I wrote a little tool for our services that could do basic expression based off of nproc based on an environment variable at startup time.<p>You could do one thread for every two cores, three threads for every 2 cores, one thread per core ± 1, or both (2n + 1).<p>Unfortunately the sweet spot based on our memory usage always came out to 1:1, except for a while when we had a memory leak that was surprisingly hard to fix, and we ran n - 1 for about 4 months while a bunch of work and exploratory testing were done. We had to tune in other places to maximize throughput.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111406&amp;goto=item%3Fid%3D45110688%2345111406" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111324"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45111324' href='vote?id=45111324&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=toast0" class="hnuser">toast0</a> <span class="age" title="2025-09-03T01:34:57 1756863297"><a href="item?id=45111324">17 hours ago</a></span> <span id="unv_45111324"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111119" class="clicky" aria-hidden="true">parent</a> | <a href="#45111406" class="clicky" aria-hidden="true">prev</a> | <a href="#45110992" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111324" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Wouldn&#x27;t that be about the same badness without hyperthreads? If you&#x27;re oversubscribed, there might be some benefit to having fewer tasks, but maybe you get some good throughput with two different application&#x27;s threads running on opposite hyperthreads.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111324&amp;goto=item%3Fid%3D45110688%2345111324" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111463"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45111463' href='vote?id=45111463&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=hinkley" class="hnuser">hinkley</a> <span class="age" title="2025-09-03T01:54:44 1756864484"><a href="item?id=45111463">16 hours ago</a></span> <span id="unv_45111463"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111324" class="clicky" aria-hidden="true">parent</a> | <a href="#45110992" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111463" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Oversubscribing also leads to process migration, which these days leads to memory read delays.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111463&amp;goto=item%3Fid%3D45110688%2345111463" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45110992"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45110992' href='vote?id=45110992&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=tgma" class="hnuser">tgma</a> <span class="age" title="2025-09-03T00:44:09 1756860249"><a href="item?id=45110992">17 hours ago</a></span> <span id="unv_45110992"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">parent</a> | <a href="#45111119" class="clicky" aria-hidden="true">prev</a> | <a href="#45111415" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45110992" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">It has a lot to do with your workload as well as if not moreso than the chip architecture.<p>The primary trade-off is the cache utilization when executing two sets of instruction streams.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45110992&amp;goto=item%3Fid%3D45110688%2345110992" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111033"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45111033' href='vote?id=45111033&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=hinkley" class="hnuser">hinkley</a> <span class="age" title="2025-09-03T00:48:55 1756860535"><a href="item?id=45111033">17 hours ago</a></span> <span id="unv_45111033"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45110992" class="clicky" aria-hidden="true">parent</a> | <a href="#45111415" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111033" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">That&#x27;s likely the primary factor, but then there&#x27;s thermal throttling as well. You can&#x27;t run all of the logic units flat out on a bunch of models of CPU.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111033&amp;goto=item%3Fid%3D45110688%2345111033" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111099"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45111099' href='vote?id=45111099&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=tgma" class="hnuser">tgma</a> <span class="age" title="2025-09-03T00:56:50 1756861010"><a href="item?id=45111099">17 hours ago</a></span> <span id="unv_45111099"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111033" class="clicky" aria-hidden="true">parent</a> | <a href="#45111082" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111099" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">May be true for FMA or AVX2 or similar stuff. Outside vector units that sounds implausible. Obviously multi core thermal throttling is a thing but that would by far dominate. Hyperthreading should have minimal impact there.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111099&amp;goto=item%3Fid%3D45110688%2345111099" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111082"><td><table border="0"><tr><td class="ind" indent="3"><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_45111082' href='vote?id=45111082&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=gruez" class="hnuser">gruez</a> <span class="age" title="2025-09-03T00:54:35 1756860875"><a href="item?id=45111082">17 hours ago</a></span> <span id="unv_45111082"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111033" class="clicky" aria-hidden="true">parent</a> | <a href="#45111099" class="clicky" aria-hidden="true">prev</a> | <a href="#45111415" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111082" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c5A">&gt;but then there&#x27;s thermal throttling as well. You can&#x27;t run all of the logic units flat out on a bunch of models of CPU.<p>That doesn&#x27;t make any sense. Disabling SMT likely saves negligible amount of power, but disables any performance to be gained from the other thread. If there&#x27;s thermal budget available, it&#x27;s better to spend it by shoving more work onto the second thread than to leave it disabled. If anything, due to voltage&#x2F;frequency curves, it might even be better to run your CPU at lower clocks but with SMT enabled to make up for it (assuming it&#x27;s amenable to your workloads), than it is to run with SMT disabled.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111082&amp;goto=item%3Fid%3D45110688%2345111082" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111415"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111415' href='vote?id=45111415&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=esseph" class="hnuser">esseph</a> <span class="age" title="2025-09-03T01:48:25 1756864105"><a href="item?id=45111415">16 hours ago</a></span> <span id="unv_45111415"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">parent</a> | <a href="#45110992" class="clicky" aria-hidden="true">prev</a> | <a href="#45111371" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111415" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Intel vs AMD, you&#x27;ll get a different answer on the hyperthreading question.<p><a href="https:&#x2F;&#x2F;www.tomshardware.com&#x2F;pc-components&#x2F;cpus&#x2F;zen-4-smt-focused-testing-suggests-intel-made-a-mistake-ditching-hyper-threading-on-lunar-lake" rel="nofollow">https:&#x2F;&#x2F;www.tomshardware.com&#x2F;pc-components&#x2F;cpus&#x2F;zen-4-smt-fo...</a></div><div class="reply"><p><font size="1"><u><a href="reply?id=45111415&amp;goto=item%3Fid%3D45110688%2345111415" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111371"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111371' href='vote?id=45111371&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=toast0" class="hnuser">toast0</a> <span class="age" title="2025-09-03T01:41:20 1756863680"><a href="item?id=45111371">17 hours ago</a></span> <span id="unv_45111371"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">parent</a> | <a href="#45111415" class="clicky" aria-hidden="true">prev</a> | <a href="#45111265" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111371" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Going from 1 core to 2 hyperthreads was a big bonus in interactivity. But I think it was easy to get early systems to show worse throughput.<p>I think there&#x27;s two kinds of loads where hyperthreads aren&#x27;t more likely to hurt than help. If you&#x27;ve got a tight loop that uses all the processor execution resources, you&#x27;re not gaining anything by splitting that in two, it just makes things harder. Or if your load is mostly bound by memory bandwidth without a lot of compute... having more threads probably means you&#x27;re that much more oversubscribed on i&#x2F;o and caching.<p>But a lot of loads are grab some stuff from memory and then do some compute, rinse and repeat. There&#x27;s a lot of potential for idle time while waiting on a load, being able to run something else during that time makes a lot of sense.<p>It&#x27;s worth checking how your load performs with hyperthreads off, but I think default on is probably the right choice.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111371&amp;goto=item%3Fid%3D45110688%2345111371" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111441"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45111441' href='vote?id=45111441&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=sroussey" class="hnuser">sroussey</a> <span class="age" title="2025-09-03T01:51:55 1756864315"><a href="item?id=45111441">16 hours ago</a></span> <span id="unv_45111441"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111371" class="clicky" aria-hidden="true">parent</a> | <a href="#45111265" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111441" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Definitely measure both ways and decide.<p>For many years (still?) it was faster to run your database with hyper threading turned off and your app server with it turned on.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111441&amp;goto=item%3Fid%3D45110688%2345111441" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111265"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111265' href='vote?id=45111265&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=tom_" class="hnuser">tom_</a> <span class="age" title="2025-09-03T01:26:57 1756862817"><a href="item?id=45111265">17 hours ago</a></span> <span id="unv_45111265"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">parent</a> | <a href="#45111371" class="clicky" aria-hidden="true">prev</a> | <a href="#45111127" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111265" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Total throughout has always seemed better with it switched on for me, even for stuff that isn&#x27;t hyper threading friendly. You get a free 10% at least.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111265&amp;goto=item%3Fid%3D45110688%2345111265" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111127"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111127' href='vote?id=45111127&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=FpUser" class="hnuser">FpUser</a> <span class="age" title="2025-09-03T01:01:48 1756861308"><a href="item?id=45111127">17 hours ago</a></span> <span id="unv_45111127"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">parent</a> | <a href="#45111265" class="clicky" aria-hidden="true">prev</a> | <a href="#45114840" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111127" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">In the old days it had made the difference between my multimedia game like application not working at all with hyperthreading off to working just fine with it on.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111127&amp;goto=item%3Fid%3D45110688%2345111127" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111779"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45111779' href='vote?id=45111779&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=hinkley" class="hnuser">hinkley</a> <span class="age" title="2025-09-03T02:46:33 1756867593"><a href="item?id=45111779">15 hours ago</a></span> <span id="unv_45111779"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">root</a> | <a href="#45111127" class="clicky" aria-hidden="true">parent</a> | <a href="#45114840" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111779" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Yeah when it was one core versus 1.3 cores that&#x27;s fair. But 3 core machines often did better (or at least more consistently run to run) with HT disabled.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111779&amp;goto=item%3Fid%3D45110688%2345111779" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45114840"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45114840' href='vote?id=45114840&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=rollcat" class="hnuser">rollcat</a> <span class="age" title="2025-09-03T12:18:39 1756901919"><a href="item?id=45114840">6 hours ago</a></span> <span id="unv_45114840"></span><span class="navs"> | <a href="#45110975" class="clicky" aria-hidden="true">prev</a> | <a href="#45111947" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45114840" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">I&#x27;m surprised nobody has mentioned OpenBSD yet.<p>They&#x27;ve been advocating against SMT for a long while, citing security risks and inconsistent performance gains. I don&#x27;t know which HW&#x2F;CPU bug in the long series of rowhammer, meltdown, spectre, etc prompted the action, but they&#x27;ve completely disabled SMT in the default installation at some point.<p>The core idea by itself is fine: keep the ALUs busy. Maybe security-wise, the present trade-off is acceptable, if you can instruct the scheduler to put threads from the same security domain on the same physical core. (How to tell when two threads are not a threat to each other is left up as an exercise.)</div><div class="reply"><p><font size="1"><u><a href="reply?id=45114840&amp;goto=item%3Fid%3D45110688%2345114840" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45114925"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45114925' href='vote?id=45114925&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=saagarjha" class="hnuser">saagarjha</a> <span class="age" title="2025-09-03T12:30:30 1756902630"><a href="item?id=45114925">6 hours ago</a></span> <span id="unv_45114925"></span><span class="navs"> | <a href="#45114840" class="clicky" aria-hidden="true">parent</a> | <a href="#45111947" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45114925" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">The security argument might make sense but OpenBSD is not really the place to take performance advice from</div><div class="reply"><p><font size="1"><u><a href="reply?id=45114925&amp;goto=item%3Fid%3D45110688%2345114925" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45116115"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45116115' href='vote?id=45116115&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=rollcat" class="hnuser">rollcat</a> <span class="age" title="2025-09-03T14:18:39 1756909119"><a href="item?id=45116115">4 hours ago</a></span> <span id="unv_45116115"></span><span class="navs"> | <a href="#45114840" class="clicky" aria-hidden="true">root</a> | <a href="#45114925" class="clicky" aria-hidden="true">parent</a> | <a href="#45114941" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45116115" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">My original point stands, also per TFA - performance gains from SMT are questionable for certain workloads. Whether OpenBSD prioritises absolute performance is besides the point - they benchmark against their own goals, not someone else&#x27;s achievements.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45116115&amp;goto=item%3Fid%3D45110688%2345116115" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45114941"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45114941' href='vote?id=45114941&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=whizzter" class="hnuser">whizzter</a> <span class="age" title="2025-09-03T12:33:43 1756902823"><a href="item?id=45114941">6 hours ago</a></span> <span id="unv_45114941"></span><span class="navs"> | <a href="#45114840" class="clicky" aria-hidden="true">root</a> | <a href="#45114925" class="clicky" aria-hidden="true">parent</a> | <a href="#45116115" class="clicky" aria-hidden="true">prev</a> | <a href="#45111947" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45114941" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Do people even use or mention OpenBSD out of performance concerns? We all know they prioritize security.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45114941&amp;goto=item%3Fid%3D45110688%2345114941" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111947"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45111947' href='vote?id=45111947&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=N_Lens" class="hnuser">N_Lens</a> <span class="age" title="2025-09-03T03:20:25 1756869625"><a href="item?id=45111947">15 hours ago</a></span> <span id="unv_45111947"></span><span class="navs"> | <a href="#45114840" class="clicky" aria-hidden="true">prev</a> | <a href="#45113629" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111947" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">This has been my experience running production workloads as well. Anytime CPU% goes over 50-60% suddenly it&#x27;ll spike to 100% rather quickly, and the app&#x2F;service is unusable. Learned to scale earlier than first thought.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111947&amp;goto=item%3Fid%3D45110688%2345111947" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113629"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45113629' href='vote?id=45113629&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=fennecfoxy" class="hnuser">fennecfoxy</a> <span class="age" title="2025-09-03T08:58:14 1756889894"><a href="item?id=45113629">9 hours ago</a></span> <span id="unv_45113629"></span><span class="navs"> | <a href="#45111947" class="clicky" aria-hidden="true">prev</a> | <a href="#45117978" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113629" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">I think it&#x27;s more for cores, right? % util is just % of idle cycles across all logical cores as far as I know.<p>It wouldn&#x27;t really make sense to include all parts of the CPU in the calculation.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113629&amp;goto=item%3Fid%3D45110688%2345113629" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45117978"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45117978' href='vote?id=45117978&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=bdhcuidbebe" class="hnuser">bdhcuidbebe</a> <span class="age" title="2025-09-03T16:51:17 1756918277"><a href="item?id=45117978">1 hour ago</a></span> <span id="unv_45117978"></span><span class="navs"> | <a href="#45113629" class="clicky" aria-hidden="true">prev</a> | <a href="#45115415" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45117978" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Thats some strong words about not RTFM.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45117978&amp;goto=item%3Fid%3D45110688%2345117978" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45115415"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45115415' href='vote?id=45115415&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=PathOfEclipse" class="hnuser">PathOfEclipse</a> <span class="age" title="2025-09-03T13:18:53 1756905533"><a href="item?id=45115415">5 hours ago</a></span> <span id="unv_45115415"></span><span class="navs"> | <a href="#45117978" class="clicky" aria-hidden="true">prev</a> | <a href="#45112035" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45115415" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c5A">I think it was always a mistake to pretend hyperthreading doubles your core count. I always assumed it was just due to laziness; the operating system treats a hyperthreaded core as two &quot;virtual cores&quot; and schedules as two cores, so then every other piece of tooling sees double the number of actual cores. There&#x27;s no good reason I know of that a CPU utilization tool shouldn&#x27;t use real cores when calculating percentages. But, maybe that&#x27;s hard to do given how the OS implements hyperthreading.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45115415&amp;goto=item%3Fid%3D45110688%2345115415" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45116185"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45116185' href='vote?id=45116185&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=fluoridation" class="hnuser">fluoridation</a> <span class="age" title="2025-09-03T14:24:39 1756909479"><a href="item?id=45116185">4 hours ago</a></span> <span id="unv_45116185"></span><span class="navs"> | <a href="#45115415" class="clicky" aria-hidden="true">parent</a> | <a href="#45112035" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45116185" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c5A">&gt;There&#x27;s no good reason I know of that a CPU utilization tool shouldn&#x27;t use real cores when calculating percentages<p>On AMD, threads may as well be cores. If you take a Ryzen and disable SMT, you&#x27;re basically halving its parallelism, at least for some tasks. On Intel you&#x27;re just turning off an extra 10-20%.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45116185&amp;goto=item%3Fid%3D45110688%2345116185" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112035"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45112035' href='vote?id=45112035&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=gbin" class="hnuser">gbin</a> <span class="age" title="2025-09-03T03:37:49 1756870669"><a href="item?id=45112035">15 hours ago</a></span> <span id="unv_45112035"></span><span class="navs"> | <a href="#45115415" class="clicky" aria-hidden="true">prev</a> | <a href="#45113217" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112035" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Yeah and those tests don&#x27;t even trigger some memory or cache contention ...</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112035&amp;goto=item%3Fid%3D45110688%2345112035" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113217"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45113217' href='vote?id=45113217&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=HPsquared" class="hnuser">HPsquared</a> <span class="age" title="2025-09-03T07:38:20 1756885100"><a href="item?id=45113217">11 hours ago</a></span> <span id="unv_45113217"></span><span class="navs"> | <a href="#45112035" class="clicky" aria-hidden="true">prev</a> | <a href="#45112796" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113217" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">GPU utilisation as reported in Task Manager also seems quite a big lie, it bears little relation to Watts &#x2F; TDP.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113217&amp;goto=item%3Fid%3D45110688%2345113217" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112796"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45112796' href='vote?id=45112796&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=steventhedev" class="hnuser">steventhedev</a> <span class="age" title="2025-09-03T06:25:23 1756880723"><a href="item?id=45112796">12 hours ago</a></span> <span id="unv_45112796"></span><span class="navs"> | <a href="#45113217" class="clicky" aria-hidden="true">prev</a> | <a href="#45112336" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112796" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">%cpu is misleading at best, and should largely be considered harmful.<p>System load is well defined, matches user expectations, and covers several edge cases (auditd going crazy, broken CPU timers, etc).</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112796&amp;goto=item%3Fid%3D45110688%2345112796" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112336"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45112336' href='vote?id=45112336&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=smallstepforman" class="hnuser">smallstepforman</a> <span class="age" title="2025-09-03T04:47:37 1756874857"><a href="item?id=45112336">13 hours ago</a></span> <span id="unv_45112336"></span><span class="navs"> | <a href="#45112796" class="clicky" aria-hidden="true">prev</a> | <a href="#45111815" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112336" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Read kernel code to see how CPU utilisation is calculated. In essence, count scheduled threads to execute and divide by number of cores. Any latency (eg. wait for memory) is still calculated as busy core.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112336&amp;goto=item%3Fid%3D45110688%2345112336" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111815"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45111815' href='vote?id=45111815&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=pama" class="hnuser">pama</a> <span class="age" title="2025-09-03T02:54:01 1756868041"><a href="item?id=45111815">15 hours ago</a></span> <span id="unv_45111815"></span><span class="navs"> | <a href="#45112336" class="clicky" aria-hidden="true">prev</a> | <a href="#45112065" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111815" n="5" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Wait until you encounter GPU utilization. You could have two codes listing 100% utilization and have well over 100x performance difference from each other.  The name of these metrics creates natural assumptions that are just wrong. Luckily it is relatively easy to estimate the FLOP&#x2F;s throughput for most GPU codes and then simply compare to the theoretical peak performance of the hardware.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111815&amp;goto=item%3Fid%3D45110688%2345111815" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111952"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45111952' href='vote?id=45111952&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=spindump8930" class="hnuser">spindump8930</a> <span class="age" title="2025-09-03T03:21:06 1756869666"><a href="item?id=45111952">15 hours ago</a></span> <span id="unv_45111952"></span><span class="navs"> | <a href="#45111815" class="clicky" aria-hidden="true">parent</a> | <a href="#45115008" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111952" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Don&#x27;t forget that theoretical peak performance is (probably) half the performance listed on the nvidia datasheet because they used the &quot;with sparsity&quot; numbers! I&#x27;ve seen this bite folks who miss the * on the figure or aren&#x27;t used to reading those spec sheets.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111952&amp;goto=item%3Fid%3D45110688%2345111952" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45115008"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45115008' href='vote?id=45115008&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=saagarjha" class="hnuser">saagarjha</a> <span class="age" title="2025-09-03T12:39:15 1756903155"><a href="item?id=45115008">6 hours ago</a></span> <span id="unv_45115008"></span><span class="navs"> | <a href="#45111815" class="clicky" aria-hidden="true">parent</a> | <a href="#45111952" class="clicky" aria-hidden="true">prev</a> | <a href="#45112153" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45115008" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">If your workload is compute bound, of course. Sometimes you want to look at bandwidth instead.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45115008&amp;goto=item%3Fid%3D45110688%2345115008" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45116956"><td><table border="0"><tr><td class="ind" indent="2"><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_45116956' href='vote?id=45116956&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=pama" class="hnuser">pama</a> <span class="age" title="2025-09-03T15:30:03 1756913403"><a href="item?id=45116956">3 hours ago</a></span> <span id="unv_45116956"></span><span class="navs"> | <a href="#45111815" class="clicky" aria-hidden="true">root</a> | <a href="#45115008" class="clicky" aria-hidden="true">parent</a> | <a href="#45112153" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45116956" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Of course.  Lots of useful metrics exist to help tweak code performance without always needing to go into detailed profiler traces.  GPU utilization is a particularly poor metric in helping much, except for making sure the code made it to the GPU somehow :-)</div><div class="reply"><p><font size="1"><u><a href="reply?id=45116956&amp;goto=item%3Fid%3D45110688%2345116956" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112153"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45112153' href='vote?id=45112153&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=BrendanLong" class="hnuser">BrendanLong</a> <span class="age" title="2025-09-03T04:02:34 1756872154"><a href="item?id=45112153">14 hours ago</a></span> <span id="unv_45112153"></span><span class="navs"> | <a href="#45111815" class="clicky" aria-hidden="true">parent</a> | <a href="#45115008" class="clicky" aria-hidden="true">prev</a> | <a href="#45112065" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112153" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Yeah, the obvious thing with processors is to do something similar:<p>(1) Measure MIPS with perf (2) Compare that to max MIPS for your processor<p>Unfortunately, MIPS is too vague since the amount of work done depends on the instruction, and there&#x27;s no good way to measure max MIPS for most processors. (╯°□°)╯︵ ┻━┻</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112153&amp;goto=item%3Fid%3D45110688%2345112153" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112065"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45112065' href='vote?id=45112065&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=throwmeaway222" class="hnuser">throwmeaway222</a> <span class="age" title="2025-09-03T03:43:44 1756871024"><a href="item?id=45112065">14 hours ago</a></span> <span id="unv_45112065"></span><span class="navs"> | <a href="#45111815" class="clicky" aria-hidden="true">prev</a> | <a href="#45111928" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112065" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Yeah, this is what we all talked about when hyperthreading was first invented in 2000 era.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112065&amp;goto=item%3Fid%3D45110688%2345112065" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45111928"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45111928' href='vote?id=45111928&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=1gn15" class="hnuser">1gn15</a> <span class="age" title="2025-09-03T03:16:50 1756869410"><a href="item?id=45111928">15 hours ago</a></span> <span id="unv_45111928"></span><span class="navs"> | <a href="#45112065" class="clicky" aria-hidden="true">prev</a> | <a href="#45113727" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45111928" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Love that this website is public domain. Thank you, Brendan!</div><div class="reply"><p><font size="1"><u><a href="reply?id=45111928&amp;goto=item%3Fid%3D45110688%2345111928" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113727"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45113727' href='vote?id=45113727&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=fuzzfactor" class="hnuser">fuzzfactor</a> <span class="age" title="2025-09-03T09:13:12 1756890792"><a href="item?id=45113727">9 hours ago</a></span> <span id="unv_45113727"></span><span class="navs"> | <a href="#45111928" class="clicky" aria-hidden="true">prev</a> | <a href="#45112943" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45113727" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">Windows users try this:<p>Ctrl-Alt-Del then launch TaskManager.<p>In TaskManager, click the &quot;Performance&quot; tab and see the simple stats.<p>While on the Performance tab, then click the ellipsis (. . .) menu, so you can then open ResourceMonitor.<p>Then close TaskManager.<p>In ResourceMonitor, under the Overview tab, for the CPU click the column header for &quot;Average CPU&quot; so that the processes using the most CPU are shown top-down from most usage to least.<p>In Overview, for Disk click the Write (B&#x2F;sec) column header, for Network click Send (B&#x2F;sec), and for Memory click Commit (KB).<p>Then under the individual CPU, Memory, Disk, and Network tabs click on the similar column headers.  Under any tab now you should be able to see the most prominent resource usages.<p>Notice how your CPU settles down after a while of idling.<p>Then click on the Disk tab to focus your attention on that one exclusively.<p>Let it sit for 5 or 10 minutes then check your CPU usage.  See if it&#x27;s been climbing gradually higher while you weren&#x27;t looking.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113727&amp;goto=item%3Fid%3D45110688%2345113727" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112943"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45112943' href='vote?id=45112943&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=kunley" class="hnuser">kunley</a> <span class="age" title="2025-09-03T06:50:12 1756882212"><a href="item?id=45112943">11 hours ago</a></span> <span id="unv_45112943"></span><span class="navs"> | <a href="#45113727" class="clicky" aria-hidden="true">prev</a> | <a href="#45112564" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45112943" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">tl;dr: guy vibecodes a thing to measure something he doesn&#x27;t fully understand and then realizes his methodology is wrong. Ends up with a catchy &quot;X is a lie&quot; title, which itself can be considered a lie.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112943&amp;goto=item%3Fid%3D45110688%2345112943" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45112564"><td><table border="0"><tr><td class="ind" indent="0"><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_45112564' href='vote?id=45112564&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=timzaman" class="hnuser">timzaman</a> <span class="age" title="2025-09-03T05:44:21 1756878261"><a href="item?id=45112564">12 hours ago</a></span> <span id="unv_45112564"></span><span class="navs"> | <a href="#45112943" class="clicky" aria-hidden="true">prev</a> <a class="togg clicky" id="45112564" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c73">What&#x27;s become of hacker news that this is #2 post ? This is basic knowledge any programmer gets in their first few years..</div><div class="reply"><p><font size="1"><u><a href="reply?id=45112564&amp;goto=item%3Fid%3D45110688%2345112564" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45115015"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45115015' href='vote?id=45115015&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=saagarjha" class="hnuser">saagarjha</a> <span class="age" title="2025-09-03T12:40:24 1756903224"><a href="item?id=45115015">6 hours ago</a></span> <span id="unv_45115015"></span><span class="navs"> | <a href="#45112564" class="clicky" aria-hidden="true">parent</a> | <a href="#45113734" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="45115015" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">I encounter very few programmers who learn this.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45115015&amp;goto=item%3Fid%3D45110688%2345115015" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr><tr class="athing comtr" id="45113734"><td><table border="0"><tr><td class="ind" indent="1"><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_45113734' href='vote?id=45113734&amp;how=up&amp;goto=item%3Fid%3D45110688'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead"><a href="user?id=therealdrag0" class="hnuser">therealdrag0</a> <span class="age" title="2025-09-03T09:14:10 1756890850"><a href="item?id=45113734">9 hours ago</a></span> <span id="unv_45113734"></span><span class="navs"> | <a href="#45112564" class="clicky" aria-hidden="true">parent</a> | <a href="#45115015" class="clicky" aria-hidden="true">prev</a> <a class="togg clicky" id="45113734" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span></span></span></div><br>
<div class="comment"><div class="commtext c00">It’s a big industry with a wide range of knowledge levels.</div><div class="reply"><p><font size="1"><u><a href="reply?id=45113734&amp;goto=item%3Fid%3D45110688%2345113734" rel="nofollow">reply</a></u></font></div></div></td></tr></table></td></tr></table><br><br>
</td></tr><tr><td><img src="s.gif" height="10" width="0"><table width="100%" cellspacing="0" cellpadding="1"><tr><td bgcolor="#ff6600"></td></tr></table><br>
<center><span class="yclinks"><a href="newsguidelines.html">Guidelines</a> | <a href="newsfaq.html">FAQ</a> | <a href="lists">Lists</a> | <a href="https://github.com/HackerNews/API">API</a> | <a href="security.html">Security</a> | <a href="https://www.ycombinator.com/legal/">Legal</a> | <a href="https://www.ycombinator.com/apply/">Apply to YC</a> | <a href="mailto:hn@ycombinator.com">Contact</a></span><br><br>
<form method="get" action="//hn.algolia.com/">Search: <input type="text" name="q" size="17" autocorrect="off" spellcheck="false" autocapitalize="off" autocomplete="off"></form></center></td></tr></table></center></body><script type="text/javascript" src="hn.js?rdkg5pOPauT7LmsdOtnz"></script></html>